(()=>{var e={};e.id=451,e.ids=[451],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},92407:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=r(70260),n=r(28203),s=r(25155),o=r.n(s),i=r(67292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["messages",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,18416)),"/Users/tanmayarora/Desktop/testing/fixed-tanner/frontend/src/app/messages/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,71371)),"/Users/tanmayarora/Desktop/testing/fixed-tanner/frontend/src/app/messages/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"/Users/tanmayarora/Desktop/testing/fixed-tanner/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/Users/tanmayarora/Desktop/testing/fixed-tanner/frontend/src/app/messages/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/messages/page",pathname:"/messages",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},37618:(e,t,r)=>{Promise.resolve().then(r.bind(r,71371))},27002:(e,t,r)=>{Promise.resolve().then(r.bind(r,75663))},64481:(e,t,r)=>{Promise.resolve().then(r.bind(r,18416))},93985:(e,t,r)=>{Promise.resolve().then(r.bind(r,47744))},75663:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(45512),n=r(58009);r(4795);var s=r(30806),o=r(8623);function i({children:e}){let[t,r]=(0,n.useState)(null);return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"hidden lg:block lg:w-64 fixed inset-y-0",children:(0,a.jsx)(s.B,{currentUser:t})}),(0,a.jsx)("div",{className:"lg:hidden fixed top-0 inset-x-0 z-40",children:(0,a.jsx)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200 dark:border-gray-800",children:(0,a.jsx)("div",{className:"px-4 h-16 flex items-center justify-between",children:(0,a.jsx)("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-600 to-primary-400",children:"Neuhu"})})})}),(0,a.jsx)("main",{className:"flex-1 lg:pl-64",children:(0,a.jsx)("div",{className:"min-h-screen pt-16 pb-16 lg:pt-0 lg:pb-0",children:e})}),(0,a.jsx)("div",{className:"lg:hidden fixed bottom-0 inset-x-0 z-40 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800",children:(0,a.jsx)(o.c,{})})]})})}},47744:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>t2});var a,n,s,o={};r.r(o),r.d(o,{Button:()=>eO,CaptionLabel:()=>eT,Chevron:()=>eW,Day:()=>eP,DayButton:()=>eY,Dropdown:()=>eF,DropdownNav:()=>eR,Footer:()=>eA,Month:()=>e$,MonthCaption:()=>eL,MonthGrid:()=>eI,Months:()=>eH,MonthsDropdown:()=>eB,Nav:()=>eU,NextMonthButton:()=>eG,Option:()=>eZ,PreviousMonthButton:()=>eQ,Root:()=>eK,Select:()=>eX,Week:()=>eV,WeekNumber:()=>e1,WeekNumberHeader:()=>e2,Weekday:()=>eJ,Weekdays:()=>e0,Weeks:()=>e5,YearsDropdown:()=>e4});var i={};r.r(i),r.d(i,{formatCaption:()=>e3,formatDay:()=>e8,formatMonthCaption:()=>e9,formatMonthDropdown:()=>e7,formatWeekNumber:()=>e6,formatWeekNumberHeader:()=>te,formatWeekdayName:()=>tt,formatYearCaption:()=>ta,formatYearDropdown:()=>tr});var l={};r.r(l),r.d(l,{labelCaption:()=>ts,labelDay:()=>tl,labelDayButton:()=>ti,labelGrid:()=>tn,labelGridcell:()=>to,labelMonthDropdown:()=>tc,labelNav:()=>td,labelNext:()=>tu,labelPrevious:()=>tm,labelWeekNumber:()=>th,labelWeekNumberHeader:()=>tp,labelWeekday:()=>tf,labelYearDropdown:()=>tg});var d=r(45512),c=r(58009),u=r(22403),m=r(4795),f=r(42092),h=r(26753),p=r(5899),g=r(37658),y=r(45103);function x({searching:e,results:t,onCreateRoom:r}){return e?(0,d.jsx)("div",{className:"flex justify-center p-4",children:(0,d.jsx)(h.A,{className:"h-6 w-6 animate-spin text-primary"})}):(0,d.jsx)("div",{children:t.map(e=>(0,d.jsxs)("button",{onClick:()=>r(e.id),className:"w-full p-4 flex items-center space-x-3 hover:bg-gray-100 dark:hover:bg-gray-800",children:[(0,d.jsx)(v,{user:e}),(0,d.jsx)("div",{className:"text-left",children:(0,d.jsx)("p",{className:"font-medium",children:e.username})})]},e.id))})}function b({rooms:e,selectedRoom:t,onSelectRoom:r}){let a=e=>{let t=new Date(e),r=new Date;return t.toDateString()===r.toDateString()?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):t.getFullYear()===r.getFullYear()?t.toLocaleDateString([],{month:"short",day:"numeric"}):t.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"})};return(0,d.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:e.map(e=>(0,d.jsx)("button",{onClick:()=>r(e),className:`w-full p-4 hover:bg-gray-100 dark:hover:bg-gray-800 
            ${t?.id===e.id?"bg-gray-100 dark:bg-gray-800":""}`,children:(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)(v,{user:e.other_participant}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,d.jsx)("p",{className:"font-medium truncate",children:e.other_participant.username}),e.last_message&&(0,d.jsx)("span",{className:"text-xs text-gray-500 flex-shrink-0",children:a(e.last_message.created_at)})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[e.last_message?(0,d.jsx)("p",{className:"text-sm text-gray-500 truncate max-w-[180px]",children:e.last_message.content}):(0,d.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No messages yet"}),e.unread_count>0&&(0,d.jsx)("span",{className:"ml-2 bg-primary text-white text-xs px-2 py-1 rounded-full flex-shrink-0",children:e.unread_count})]})]})]})},e.id))})}function v({user:e}){return(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center relative",children:e.avatar_url?(0,d.jsx)("div",{className:"relative w-full h-full",children:(0,d.jsx)(y.default,{src:e.avatar_url,alt:e.username,fill:!0,className:"rounded-full object-cover",sizes:"40px"})}):(0,d.jsx)(f.A,{className:"h-5 w-5 text-primary"})})}function w({chatRooms:e,onSelectRoom:t,selectedRoom:r,onSearch:a,searchResults:n,searching:s,onCreateRoom:o}){let[i,l]=(0,c.useState)("");return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(p.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,d.jsx)(g.p,{type:"text",placeholder:"Search users...",value:i,onChange:e=>{l(e.target.value),a(e.target.value)},className:"pl-10"})]})}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto",children:i?(0,d.jsx)(x,{searching:s,results:n,onCreateRoom:o}):(0,d.jsx)(b,{rooms:e,selectedRoom:r,onSelectRoom:t})})]})}var k=r(71894);let N=(0,r(94825).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var D=r(39400),j=r(23790),M=r(28144),C=r(14198),S=r(93422);function _(e,t){let r=(0,S.a)(e,t?.in);return r.setHours(0,0,0,0),r}function E(e,t,r){let[a,n]=(0,C.x)(r?.in,e,t);return+_(a)==+_(n)}function O(e,t){return E((0,j.w)(t?.in||e,e),(0,M.A)(t?.in||e))}function T(e,t,r){let a=(0,S.a)(e,r?.in);return isNaN(t)?(0,j.w)(r?.in||e,NaN):(t&&a.setDate(a.getDate()+t),a)}function W(e,t){return E((0,j.w)(t?.in||e,e),T((0,M.A)(t?.in||e),-1,void 0))}var P=r(26),Y=r(44075),F=r(10521),R=r(93070);function A(e,t,r){let[a,n]=(0,C.x)(r?.in,e,t),s=_(a),o=_(n);return Math.round((+s-(0,F.G)(s)-(+o-(0,F.G)(o)))/R.w4)}function $(e,t){let r=(0,S.a)(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function L(e,t){let r=(0,Y.q)(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,n=(0,S.a)(e,t?.in),s=n.getDay();return n.setDate(n.getDate()-((s<a?7:0)+s-a)),n.setHours(0,0,0,0),n}function I(e,t){return L(e,{...t,weekStartsOn:1})}function H(e,t){let r=(0,S.a)(e,t?.in),a=r.getFullYear(),n=(0,j.w)(r,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);let s=I(n),o=(0,j.w)(r,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);let i=I(o);return r.getTime()>=s.getTime()?a+1:r.getTime()>=i.getTime()?a:a-1}function q(e,t){let r=(0,S.a)(e,t?.in);return Math.round((+I(r)-+function(e,t){let r=H(e,void 0),a=(0,j.w)(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),I(a)}(r))/R.my)+1}function z(e,t){let r=(0,S.a)(e,t?.in),a=r.getFullYear(),n=(0,Y.q)(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=(0,j.w)(t?.in||e,0);o.setFullYear(a+1,0,s),o.setHours(0,0,0,0);let i=L(o,t),l=(0,j.w)(t?.in||e,0);l.setFullYear(a,0,s),l.setHours(0,0,0,0);let d=L(l,t);return+r>=+i?a+1:+r>=+d?a:a-1}function B(e,t){let r=(0,S.a)(e,t?.in);return Math.round((+L(r,t)-+function(e,t){let r=(0,Y.q)(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,n=z(e,t),s=(0,j.w)(t?.in||e,0);return s.setFullYear(n,0,a),s.setHours(0,0,0,0),L(s,t)}(r,t))/R.my)+1}function U(e,t){let r=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+r}let G={y(e,t){let r=e.getFullYear(),a=r>0?r:1-r;return U("yy"===t?a%100:a,t.length)},M(e,t){let r=e.getMonth();return"M"===t?String(r+1):U(r+1,2)},d:(e,t)=>U(e.getDate(),t.length),a(e,t){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>U(e.getHours()%12||12,t.length),H:(e,t)=>U(e.getHours(),t.length),m:(e,t)=>U(e.getMinutes(),t.length),s:(e,t)=>U(e.getSeconds(),t.length),S(e,t){let r=t.length;return U(Math.trunc(e.getMilliseconds()*Math.pow(10,r-3)),t.length)}},Z={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Q={G:function(e,t,r){let a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if("yo"===t){let t=e.getFullYear();return r.ordinalNumber(t>0?t:1-t,{unit:"year"})}return G.y(e,t)},Y:function(e,t,r,a){let n=z(e,a),s=n>0?n:1-n;return"YY"===t?U(s%100,2):"Yo"===t?r.ordinalNumber(s,{unit:"year"}):U(s,t.length)},R:function(e,t){return U(H(e),t.length)},u:function(e,t){return U(e.getFullYear(),t.length)},Q:function(e,t,r){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return U(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return U(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){let a=e.getMonth();switch(t){case"M":case"MM":return G.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){let a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return U(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){let n=B(e,a);return"wo"===t?r.ordinalNumber(n,{unit:"week"}):U(n,t.length)},I:function(e,t,r){let a=q(e);return"Io"===t?r.ordinalNumber(a,{unit:"week"}):U(a,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):G.d(e,t)},D:function(e,t,r){let a=function(e,t){let r=(0,S.a)(e,void 0);return A(r,$(r))+1}(e);return"Do"===t?r.ordinalNumber(a,{unit:"dayOfYear"}):U(a,t.length)},E:function(e,t,r){let a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){let n=e.getDay(),s=(n-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return U(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){let n=e.getDay(),s=(n-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return U(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){let a=e.getDay(),n=0===a?7:a;switch(t){case"i":return String(n);case"ii":return U(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){let a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){let a;let n=e.getHours();switch(a=12===n?Z.noon:0===n?Z.midnight:n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){let a;let n=e.getHours();switch(a=n>=17?Z.evening:n>=12?Z.afternoon:n>=4?Z.morning:Z.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return G.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):G.H(e,t)},K:function(e,t,r){let a=e.getHours()%12;return"Ko"===t?r.ordinalNumber(a,{unit:"hour"}):U(a,t.length)},k:function(e,t,r){let a=e.getHours();return(0===a&&(a=24),"ko"===t)?r.ordinalNumber(a,{unit:"hour"}):U(a,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):G.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):G.s(e,t)},S:function(e,t){return G.S(e,t)},X:function(e,t,r){let a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return X(a);case"XXXX":case"XX":return V(a);default:return V(a,":")}},x:function(e,t,r){let a=e.getTimezoneOffset();switch(t){case"x":return X(a);case"xxxx":case"xx":return V(a);default:return V(a,":")}},O:function(e,t,r){let a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+K(a,":");default:return"GMT"+V(a,":")}},z:function(e,t,r){let a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+K(a,":");default:return"GMT"+V(a,":")}},t:function(e,t,r){return U(Math.trunc(+e/1e3),t.length)},T:function(e,t,r){return U(+e,t.length)}};function K(e,t=""){let r=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),s=a%60;return 0===s?r+String(n):r+String(n)+t+U(s,2)}function X(e,t){return e%60==0?(e>0?"-":"+")+U(Math.abs(e)/60,2):V(e,t)}function V(e,t=""){let r=Math.abs(e);return(e>0?"-":"+")+U(Math.trunc(r/60),2)+t+U(r%60,2)}let J=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},ee=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},et={p:ee,P:(e,t)=>{let r;let a=e.match(/(P+)(p+)?/)||[],n=a[1],s=a[2];if(!s)return J(e,t);switch(n){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",J(n,t)).replace("{{time}}",ee(s,t))}},er=/^D+$/,ea=/^Y+$/,en=["D","DD","YY","YYYY"];function es(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}let eo=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ei=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,el=/^'([^]*?)'?$/,ed=/''/g,ec=/[a-zA-Z]/;function eu(e,t,r){let a=(0,Y.q)(),n=r?.locale??a.locale??P.c,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,i=(0,S.a)(e,r?.in);if(!es(i)&&"number"!=typeof i||isNaN(+(0,S.a)(i)))throw RangeError("Invalid time value");let l=t.match(ei).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,et[t])(e,n.formatLong):e}).join("").match(eo).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t)return{isToken:!1,value:function(e){let t=e.match(el);return t?t[1].replace(ed,"'"):e}(e)};if(Q[t])return{isToken:!0,value:e};if(t.match(ec))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});n.localize.preprocessor&&(l=n.localize.preprocessor(i,l));let d={firstWeekContainsDate:s,weekStartsOn:o,locale:n};return l.map(a=>{if(!a.isToken)return a.value;let s=a.value;return(!r?.useAdditionalWeekYearTokens&&ea.test(s)||!r?.useAdditionalDayOfYearTokens&&er.test(s))&&function(e,t,r){let a=function(e,t,r){let a="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,r);if(console.warn(a),en.includes(e))throw RangeError(a)}(s,t,String(e)),(0,Q[s[0]])(i,s,n.localize,d)}).join("")}function em({room:e,messages:t,isOnline:r,lastSeen:a,isConnected:n,onBack:s,newMessage:o,onNewMessageChange:i,onSendMessage:l,onScroll:u,loadingMore:m,socket:h}){let p=(0,c.useRef)(null),[y,x]=(0,c.useState)(!0),b=t=>"string"==typeof t.sender?t.sender===e.other_participant.id:!!t.sender&&"object"==typeof t.sender&&"id"in t.sender&&t.sender.id===e.other_participant.id;return(0,d.jsxs)("div",{className:"flex flex-col fixed md:relative inset-0 md:inset-auto bg-white dark:bg-gray-900 h-[100dvh] md:h-full mt-16 mb-20 md:my-0",children:[(0,d.jsx)("div",{className:"sticky top-16 md:top-0 flex-none p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between bg-white dark:bg-gray-900 z-20",children:(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("button",{onClick:s,className:"md:hidden p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:(0,d.jsx)(k.A,{className:"h-5 w-5"})}),(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.other_participant.avatar_url?(0,d.jsx)("img",{src:e.other_participant.avatar_url,alt:e.other_participant.username,className:"w-full h-full rounded-full"}):(0,d.jsx)(f.A,{className:"h-5 w-5 text-primary"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"font-medium",children:e.other_participant.username}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:(0,d.jsxs)("span",{className:"flex items-center text-gray-400",children:[(0,d.jsx)("span",{className:`w-2 h-2 rounded-full mr-2 ${r?"bg-green-500":"bg-gray-400"}`}),r?(0,d.jsx)("span",{className:"text-green-500",children:"Online"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{children:"Offline"}),a&&` • ${(()=>{if(!a)return"";let e=new Date(a);return O(e)?`Last seen today at ${eu(e,"HH:mm")}`:W(e)?`Last seen yesterday at ${eu(e,"HH:mm")}`:`Last seen ${eu(e,"MMM d")} at ${eu(e,"HH:mm")}`})()}`]})]})})]})]})]})}),(0,d.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-2 chat-messages-container",onScroll:e=>{let t=e.target;x(t.scrollHeight-t.scrollTop<=t.clientHeight+100),t.scrollTop<=100&&!m&&u(e)},style:{height:"calc(100dvh - 216px)",paddingBottom:"24px"},children:[m&&(0,d.jsx)("div",{className:"sticky top-0 flex justify-center py-2 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm z-10",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary"})}),(0,d.jsx)("div",{className:"flex flex-col space-y-4",children:t.map((e,r)=>{let a=new Date(e.created_at),n=t[r-1],s=0===r||!E(a,new Date(n?.created_at||"")),o=b(e);return(0,d.jsxs)("div",{children:[s&&(0,d.jsx)("div",{className:"flex justify-center my-4",children:(0,d.jsx)("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-full px-4 py-1",children:(0,d.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:O(a)?"Today":W(a)?"Yesterday":eu(a,"MMMM d, yyyy")})})}),(0,d.jsx)("div",{className:`flex ${o?"justify-start":"justify-end"}`,children:(0,d.jsxs)("div",{className:`max-w-[70%] rounded-lg p-3 ${o?"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100":"bg-blue-600 text-white"}`,children:[(0,d.jsx)("p",{className:"break-words",children:e.content}),(0,d.jsxs)("div",{className:`text-xs mt-1 ${o?"text-gray-500 dark:text-gray-400":"text-blue-100"}`,children:[eu(a,"HH:mm"),!o&&(0,d.jsx)("span",{className:"ml-2",children:e.is_read?"✓✓":"✓"})]})]})})]},e.id)})}),(0,d.jsx)("div",{ref:p})]}),(0,d.jsx)("div",{className:"sticky bottom-20 md:bottom-0 left-0 right-0 flex-none bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 z-20",children:(0,d.jsx)("div",{className:"p-4 max-w-[100%] mx-auto",children:(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(g.p,{value:o,onChange:e=>i(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),l())},placeholder:"Type a message...",className:"flex-1"}),(0,d.jsx)(D.$,{onClick:l,disabled:!o.trim(),size:"icon",className:"flex-none",children:(0,d.jsx)(N,{className:"h-5 w-5"})})]})})})]})}var ef=r(43264);(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(a||(a={})),function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"}(n||(n={})),function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"}(s||(s={})),Symbol.for("constructDateFrom");let eh={},ep={};function eg(e,t){try{let r=(eh[e]||=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format)(t).split("GMT")[1]||"";if(r in ep)return ep[r];return ex(r,r.split(":"))}catch{if(e in ep)return ep[e];let t=e?.match(ey);if(t)return ex(e,t.slice(1));return NaN}}let ey=/([+-]\d\d):?(\d\d)?/;function ex(e,t){let r=+t[0],a=+(t[1]||0);return ep[e]=r>0?60*r+a:60*r-a}class eb extends Date{constructor(...e){super(),e.length>1&&"string"==typeof e[e.length-1]&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(eg(this.timeZone,this))?this.setTime(NaN):e.length?"number"==typeof e[0]&&(1===e.length||2===e.length&&"number"!=typeof e[1])?this.setTime(e[0]):"string"==typeof e[0]?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),ek(this,NaN),ew(this)):this.setTime(Date.now())}static tz(e,...t){return t.length?new eb(...t,e):new eb(Date.now(),e)}withTimeZone(e){return new eb(+this,e)}getTimezoneOffset(){return-eg(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),ew(this),+this}[Symbol.for("constructDateFrom")](e){return new eb(+new Date(e),this.timeZone)}}let ev=/^(get|set)(?!UTC)/;function ew(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function ek(e){let t=eg(e.timeZone,e),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);let a=-new Date(+e).getTimezoneOffset(),n=a- -new Date(+r).getTimezoneOffset(),s=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();n&&s&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+n);let o=a-t;o&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+o);let i=eg(e.timeZone,e),l=-new Date(+e).getTimezoneOffset()-i-o;if(i!==t&&l){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+l);let t=i-eg(e.timeZone,e);t&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+t),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+t))}}Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!ev.test(e))return;let t=e.replace(ev,"$1UTC");eb.prototype[t]&&(e.startsWith("get")?eb.prototype[e]=function(){return this.internal[t]()}:(eb.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Date.prototype.setFullYear.call(this,this.internal.getUTCFullYear(),this.internal.getUTCMonth(),this.internal.getUTCDate()),Date.prototype.setHours.call(this,this.internal.getUTCHours(),this.internal.getUTCMinutes(),this.internal.getUTCSeconds(),this.internal.getUTCMilliseconds()),ek(this),+this},eb.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),ew(this),+this}))});class eN extends eb{static tz(e,...t){return t.length?new eN(...t,e):new eN(Date.now(),e)}toISOString(){let[e,t,r]=this.tzComponents(),a=`${e}${t}:${r}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){let[e,t,r,a]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${r} ${t} ${a}`}toTimeString(){var e;let t=this.internal.toUTCString().split(" ")[4],[r,a,n]=this.tzComponents();return`${t} GMT${r}${a}${n} (${e=this.timeZone,new Intl.DateTimeFormat("en-GB",{timeZone:e,timeZoneName:"long"}).format(this).slice(12)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}tzComponents(){let e=this.getTimezoneOffset(),t=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),r=String(Math.abs(e)%60).padStart(2,"0");return[e>0?"-":"+",t,r]}withTimeZone(e){return new eN(+this,e)}[Symbol.for("constructDateFrom")](e){return new eN(+new Date(e),this.timeZone)}}function eD(e,t,r){let a=(0,S.a)(e,r?.in);if(isNaN(t))return(0,j.w)(r?.in||e,NaN);if(!t)return a;let n=a.getDate(),s=(0,j.w)(r?.in||e,a.getTime());return(s.setMonth(a.getMonth()+t+1,0),n>=s.getDate())?s:(a.setFullYear(s.getFullYear(),s.getMonth(),n),a)}var ej=r(38130);function eM(e,t){let r=(0,Y.q)(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,n=(0,S.a)(e,t?.in),s=n.getDay();return n.setDate(n.getDate()+((s<a?-7:0)+6-(s-a))),n.setHours(23,59,59,999),n}var eC=r(23501);function eS(e,t){let r=t.startOfMonth(e),a=r.getDay();return 1===a?r:0===a?t.addDays(r,-6):t.addDays(r,-1*(a-1))}class e_{constructor(e,t){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?eN.tz(this.options.timeZone):new this.Date,this.newDate=(e,t,r)=>this.overrides?.newDate?this.overrides.newDate(e,t,r):this.options.timeZone?new eN(e,t,r,this.options.timeZone):new Date(e,t,r),this.addDays=(e,t)=>this.overrides?.addDays?.(e,t)??T(e,t),this.addMonths=(e,t)=>this.overrides?.addMonths?.(e,t)??eD(e,t),this.addWeeks=(e,t)=>this.overrides?.addWeeks?.(e,t)??T(e,7*t,void 0),this.addYears=(e,t)=>this.overrides?.addYears?.(e,t)??eD(e,12*t,void 0),this.differenceInCalendarDays=(e,t)=>this.overrides?.differenceInCalendarDays?.(e,t)??A(e,t),this.differenceInCalendarMonths=(e,t)=>this.overrides?.differenceInCalendarMonths?.(e,t)??(0,ej.U)(e,t),this.eachMonthOfInterval=e=>this.overrides?.eachMonthOfInterval?.(e)??function(e,t){let{start:r,end:a}=function(e,t){let[r,a]=(0,C.x)(e,t.start,t.end);return{start:r,end:a}}(void 0,e),n=+r>+a,s=n?+r:+a,o=n?a:r;o.setHours(0,0,0,0),o.setDate(1);let i=(void 0)??1;if(!i)return[];i<0&&(i=-i,n=!n);let l=[];for(;+o<=s;)l.push((0,j.w)(r,o)),o.setMonth(o.getMonth()+i);return n?l.reverse():l}(e),this.endOfBroadcastWeek=(e,t)=>this.overrides?.endOfBroadcastWeek?.(e,t)??function(e,t){let r=eS(e,t),a=function(e,t){let r=t.startOfMonth(e),a=r.getDay()>0?r.getDay():7,n=t.addDays(e,-a+1),s=t.addDays(n,34);return t.getMonth(e)===t.getMonth(s)?5:4}(e,t);return t.addDays(r,7*a-1)}(e,this),this.endOfISOWeek=e=>this.overrides?.endOfISOWeek?.(e)??eM(e,{weekStartsOn:1}),this.endOfMonth=e=>this.overrides?.endOfMonth?.(e)??(0,eC.p)(e),this.endOfWeek=(e,t)=>this.overrides?.endOfWeek?.(e,t??this.options)??eM(e,t??this.options),this.endOfYear=e=>this.overrides?.endOfYear?.(e)??function(e,t){let r=(0,S.a)(e,void 0),a=r.getFullYear();return r.setFullYear(a+1,0,0),r.setHours(23,59,59,999),r}(e),this.format=(e,t,r)=>{let a=this.overrides?.format?.(e,t,r??this.options)??eu(e,t,r??this.options);return this.options.numerals&&"latn"!==this.options.numerals?this.replaceDigits(a):a},this.getISOWeek=e=>this.overrides?.getISOWeek?.(e)??q(e),this.getMonth=e=>this.overrides?.getMonth?.(e)??(0,S.a)(e,void 0).getMonth(),this.getYear=e=>this.overrides?.getYear?.(e)??(0,S.a)(e,void 0).getFullYear(),this.getWeek=(e,t)=>this.overrides?.getWeek?.(e,t??this.options)??B(e,t??this.options),this.isAfter=(e,t)=>this.overrides?.isAfter?.(e,t)??+(0,S.a)(e)>+(0,S.a)(t),this.isBefore=(e,t)=>this.overrides?.isBefore?.(e,t)??+(0,S.a)(e)<+(0,S.a)(t),this.isDate=e=>this.overrides?.isDate?.(e)??es(e),this.isSameDay=(e,t)=>this.overrides?.isSameDay?.(e,t)??E(e,t),this.isSameMonth=(e,t)=>this.overrides?.isSameMonth?.(e,t)??function(e,t,r){let[a,n]=(0,C.x)(void 0,e,t);return a.getFullYear()===n.getFullYear()&&a.getMonth()===n.getMonth()}(e,t),this.isSameYear=(e,t)=>this.overrides?.isSameYear?.(e,t)??function(e,t,r){let[a,n]=(0,C.x)(void 0,e,t);return a.getFullYear()===n.getFullYear()}(e,t),this.max=e=>this.overrides?.max?.(e)??function(e,t){let r,a;return e.forEach(e=>{a||"object"!=typeof e||(a=j.w.bind(null,e));let t=(0,S.a)(e,a);(!r||r<t||isNaN(+t))&&(r=t)}),(0,j.w)(a,r||NaN)}(e),this.min=e=>this.overrides?.min?.(e)??function(e,t){let r,a;return e.forEach(e=>{a||"object"!=typeof e||(a=j.w.bind(null,e));let t=(0,S.a)(e,a);(!r||r>t||isNaN(+t))&&(r=t)}),(0,j.w)(a,r||NaN)}(e),this.setMonth=(e,t)=>this.overrides?.setMonth?.(e,t)??function(e,t,r){let a=(0,S.a)(e,void 0),n=a.getFullYear(),s=a.getDate(),o=(0,j.w)(e,0);o.setFullYear(n,t,15),o.setHours(0,0,0,0);let i=function(e,t){let r=(0,S.a)(e,void 0),a=r.getFullYear(),n=r.getMonth(),s=(0,j.w)(r,0);return s.setFullYear(a,n+1,0),s.setHours(0,0,0,0),s.getDate()}(o);return a.setMonth(t,Math.min(s,i)),a}(e,t),this.setYear=(e,t)=>this.overrides?.setYear?.(e,t)??function(e,t,r){let a=(0,S.a)(e,void 0);return isNaN(+a)?(0,j.w)(e,NaN):(a.setFullYear(t),a)}(e,t),this.startOfBroadcastWeek=(e,t)=>this.overrides?.startOfBroadcastWeek?.(e,t??this)??eS(e,t??this),this.startOfDay=e=>this.overrides?.startOfDay?.(e)??_(e),this.startOfISOWeek=e=>this.overrides?.startOfISOWeek?.(e)??I(e),this.startOfMonth=e=>this.overrides?.startOfMonth?.(e)??function(e,t){let r=(0,S.a)(e,void 0);return r.setDate(1),r.setHours(0,0,0,0),r}(e),this.startOfWeek=e=>this.overrides?.startOfWeek?.(e)??L(e,this.options),this.startOfYear=e=>this.overrides?.startOfYear?.(e)??$(e),this.options={locale:P.c,...e},this.overrides=t}getDigitMap(){let{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let e=0;e<10;e++)r[e.toString()]=t.format(e);return r}replaceDigits(e){let t=this.getDigitMap();return e.replace(/\d/g,e=>t[e]||e)}formatNumber(e){return this.replaceDigits(e.toString())}}let eE=new e_;function eO(e){return c.createElement("button",{...e})}function eT(e){return c.createElement("span",{...e})}function eW(e){let{size:t=24,orientation:r="left",className:a}=e;return c.createElement("svg",{className:a,width:t,height:t,viewBox:"0 0 24 24"},"up"===r&&c.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),"down"===r&&c.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),"left"===r&&c.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),"right"===r&&c.createElement("polygon",{points:"8 18.612 14.1888889 12.5 8 6.37733333 9.91111111 4.5 18 12.5 9.91111111 20.5"}))}function eP(e){let{day:t,modifiers:r,...a}=e;return c.createElement("td",{...a})}function eY(e){let{day:t,modifiers:r,...a}=e,n=c.useRef(null);return c.useEffect(()=>{r.focused&&n.current?.focus()},[r.focused]),c.createElement("button",{ref:n,...a})}function eF(e){let{options:t,className:r,components:n,classNames:s,...o}=e,i=[s[a.Dropdown],r].join(" "),l=t?.find(({value:e})=>e===o.value);return c.createElement("span",{"data-disabled":o.disabled,className:s[a.DropdownRoot]},c.createElement(n.Select,{className:i,...o},t?.map(({value:e,label:t,disabled:r})=>c.createElement(n.Option,{key:e,value:e,disabled:r},t))),c.createElement("span",{className:s[a.CaptionLabel],"aria-hidden":!0},l?.label,c.createElement(n.Chevron,{orientation:"down",size:18,className:s[a.Chevron]})))}function eR(e){return c.createElement("div",{...e})}function eA(e){return c.createElement("div",{...e})}function e$(e){let{calendarMonth:t,displayIndex:r,...a}=e;return c.createElement("div",{...a},e.children)}function eL(e){let{calendarMonth:t,displayIndex:r,...a}=e;return c.createElement("div",{...a})}function eI(e){return c.createElement("table",{...e})}function eH(e){return c.createElement("div",{...e})}let eq=(0,c.createContext)(void 0);function ez(){let e=(0,c.useContext)(eq);if(void 0===e)throw Error("useDayPicker() must be used within a custom component.");return e}function eB(e){let{components:t}=ez();return c.createElement(t.Dropdown,{...e})}function eU(e){let{onPreviousClick:t,onNextClick:r,previousMonth:n,nextMonth:s,...o}=e,{components:i,classNames:l,labels:{labelPrevious:d,labelNext:u}}=ez();return c.createElement("nav",{...o},c.createElement(i.PreviousMonthButton,{type:"button",className:l[a.PreviousMonthButton],tabIndex:n?void 0:-1,disabled:!n||void 0,"aria-label":d(n),onClick:e.onPreviousClick},c.createElement(i.Chevron,{disabled:!n||void 0,className:l[a.Chevron],orientation:"left"})),c.createElement(i.NextMonthButton,{type:"button",className:l[a.NextMonthButton],tabIndex:s?void 0:-1,disabled:!s||void 0,"aria-label":u(s),onClick:e.onNextClick},c.createElement(i.Chevron,{disabled:!s||void 0,orientation:"right",className:l[a.Chevron]})))}function eG(e){let{components:t}=ez();return c.createElement(t.Button,{...e})}function eZ(e){return c.createElement("option",{...e})}function eQ(e){let{components:t}=ez();return c.createElement(t.Button,{...e})}function eK(e){return c.createElement("div",{...e})}function eX(e){return c.createElement("select",{...e})}function eV(e){let{week:t,...r}=e;return c.createElement("tr",{...r})}function eJ(e){return c.createElement("th",{...e})}function e0(e){return c.createElement("thead",{"aria-hidden":!0},c.createElement("tr",{...e}))}function e1(e){let{week:t,...r}=e;return c.createElement("th",{...r})}function e2(e){return c.createElement("th",{...e})}function e5(e){return c.createElement("tbody",{...e})}function e4(e){let{components:t}=ez();return c.createElement(t.Dropdown,{...e})}function e3(e,t,r){return(r??new e_(t)).format(e,"LLLL y")}let e9=e3;function e8(e,t,r){return(r??new e_(t)).format(e,"d")}function e7(e,t=eE){return t.format(e,"LLLL")}function e6(e){return e<10?`0${e.toLocaleString()}`:`${e.toLocaleString()}`}function te(){return""}function tt(e,t,r){return(r??new e_(t)).format(e,"cccccc")}function tr(e,t=eE){return t.format(e,"yyyy")}let ta=tr;function tn(e,t,r){return(r??new e_(t)).format(e,"LLLL y")}let ts=tn;function to(e,t,r,a){let n=(a??new e_(r)).format(e,"PPPP");return t?.today&&(n=`Today, ${n}`),n}function ti(e,t,r,a){let n=(a??new e_(r)).format(e,"PPPP");return t.today&&(n=`Today, ${n}`),t.selected&&(n=`${n}, selected`),n}let tl=ti;function td(){return""}function tc(e){return"Choose the Month"}function tu(e){return"Go to the Next Month"}function tm(e){return"Go to the Previous Month"}function tf(e,t,r){return(r??new e_(t)).format(e,"cccc")}function th(e,t){return`Week ${e}`}function tp(e){return"Week Number"}function tg(e){return"Choose the Year"}function ty(e,t){let{month:r,defaultMonth:a,today:n=t.today(),numberOfMonths:s=1,endMonth:o,startMonth:i}=e,l=r||a||n,{differenceInCalendarMonths:d,addMonths:c,startOfMonth:u}=t;return o&&0>d(o,l)&&(l=c(o,-1*(s-1))),i&&0>d(l,i)&&(l=i),u(l)}class tx{constructor(e,t,r=eE){this.date=e,this.displayMonth=t,this.outside=!!(t&&!r.isSameMonth(e,t)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class tb{constructor(e,t){this.date=e,this.weeks=t}}class tv{constructor(e,t){this.days=t,this.weekNumber=e}}function tw(e,t){let[r,a]=(0,c.useState)(e);return[void 0===t?r:t,a]}function tk(e,t,r=!1,a=eE){let{from:n,to:s}=e,{differenceInCalendarDays:o,isSameDay:i}=a;return n&&s?(0>o(s,n)&&([n,s]=[s,n]),o(t,n)>=(r?1:0)&&o(s,t)>=(r?1:0)):!r&&s?i(s,t):!r&&!!n&&i(n,t)}function tN(e){return!!(e&&"object"==typeof e&&"before"in e&&"after"in e)}function tD(e){return!!(e&&"object"==typeof e&&"from"in e)}function tj(e){return!!(e&&"object"==typeof e&&"after"in e)}function tM(e){return!!(e&&"object"==typeof e&&"before"in e)}function tC(e){return!!(e&&"object"==typeof e&&"dayOfWeek"in e)}function tS(e,t){return Array.isArray(e)&&e.every(t.isDate)}function t_(e,t,r=eE){let a=Array.isArray(t)?t:[t],{isSameDay:n,differenceInCalendarDays:s,isAfter:o}=r;return a.some(t=>{if("boolean"==typeof t)return t;if(r.isDate(t))return n(e,t);if(tS(t,r))return t.includes(e);if(tD(t))return tk(t,e,!1,r);if(tC(t))return Array.isArray(t.dayOfWeek)?t.dayOfWeek.includes(e.getDay()):t.dayOfWeek===e.getDay();if(tN(t)){let r=s(t.before,e),a=s(t.after,e),n=r>0,i=a<0;return o(t.before,t.after)?i&&n:n||i}return tj(t)?s(e,t.after)>0:tM(t)?s(t.before,e)>0:"function"==typeof t&&t(e)})}function tE(e,t,r=eE){return tk(e,t.from,!1,r)||tk(e,t.to,!1,r)||tk(t,e.from,!1,r)||tk(t,e.to,!1,r)}function tO(e){let{components:t,formatters:r,labels:d,dateLib:u,locale:m,classNames:f}=(0,c.useMemo)(()=>{var t,r;let d={...P.c,...e.locale};return{dateLib:new e_({locale:d,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:(t=e.components,{...o,...t}),formatters:(r=e.formatters,r?.formatMonthCaption&&!r.formatCaption&&(r.formatCaption=r.formatMonthCaption),r?.formatYearCaption&&!r.formatYearDropdown&&(r.formatYearDropdown=r.formatYearCaption),{...i,...r}),labels:{...l,...e.labels},locale:d,classNames:{...function(){let e={};for(let t in a)e[a[t]]=`rdp-${a[t]}`;for(let t in n)e[n[t]]=`rdp-${n[t]}`;for(let t in s)e[s[t]]=`rdp-${s[t]}`;return e}(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:h,mode:p,onDayBlur:g,onDayClick:y,onDayFocus:x,onDayKeyDown:b,onDayMouseEnter:v,onDayMouseLeave:w,onNextClick:k,onPrevClick:N,showWeekNumber:D,styles:j}=e,{formatCaption:M,formatDay:C,formatMonthDropdown:S,formatWeekNumber:_,formatWeekNumberHeader:E,formatWeekdayName:O,formatYearDropdown:T}=r,W=function(e,t){let[r,a]=function(e,t){let{startMonth:r,endMonth:a}=e,{startOfYear:n,startOfDay:s,startOfMonth:o,endOfMonth:i,addYears:l,endOfYear:d,newDate:c,today:u}=t,{fromYear:m,toYear:f,fromMonth:h,toMonth:p}=e;!r&&h&&(r=h),!r&&m&&(r=t.newDate(m,0,1)),!a&&p&&(a=p),!a&&f&&(a=c(f,11,31));let g="dropdown"===e.captionLayout||"dropdown-years"===e.captionLayout;return r?r=o(r):m?r=c(m,0,1):!r&&g&&(r=n(l(e.today??u(),-100))),a?a=i(a):f?a=c(f,11,31):!a&&g&&(a=d(e.today??u())),[r?s(r):r,a?s(a):a]}(e,t),{startOfMonth:n,endOfMonth:s}=t,o=ty(e,t),[i,l]=tw(o,e.month?o:void 0);(0,c.useEffect)(()=>{l(ty(e,t))},[e.timeZone]);let d=function(e,t,r,a){let{numberOfMonths:n=1}=r,s=[];for(let r=0;r<n;r++){let n=a.addMonths(e,r);if(t&&n>t)break;s.push(n)}return s}(i,a,e,t),u=function(e,t,r,a){let n=e[0],s=e[e.length-1],{ISOWeek:o,fixedWeeks:i,broadcastCalendar:l}=r??{},{addDays:d,differenceInCalendarDays:c,differenceInCalendarMonths:u,endOfBroadcastWeek:m,endOfISOWeek:f,endOfMonth:h,endOfWeek:p,isAfter:g,startOfBroadcastWeek:y,startOfISOWeek:x,startOfWeek:b}=a,v=l?y(n,a):o?x(n):b(n),w=c(l?m(s,a):o?f(h(s)):p(h(s)),v),k=u(s,n)+1,N=[];for(let e=0;e<=w;e++){let r=d(v,e);if(t&&g(r,t))break;N.push(r)}let D=(l?35:42)*k;if(i&&N.length<D){let e=D-N.length;for(let t=0;t<e;t++){let e=d(N[N.length-1],1);N.push(e)}}return N}(d,e.endMonth?s(e.endMonth):void 0,e,t),m=function(e,t,r,a){let{addDays:n,endOfBroadcastWeek:s,endOfISOWeek:o,endOfMonth:i,endOfWeek:l,getISOWeek:d,getWeek:c,startOfBroadcastWeek:u,startOfISOWeek:m,startOfWeek:f}=a,h=e.reduce((e,h)=>{let p=r.broadcastCalendar?u(h,a):r.ISOWeek?m(h):f(h),g=r.broadcastCalendar?s(h,a):r.ISOWeek?o(i(h)):l(i(h)),y=t.filter(e=>e>=p&&e<=g),x=r.broadcastCalendar?35:42;if(r.fixedWeeks&&y.length<x){let e=t.filter(e=>{let t=x-y.length;return e>g&&e<=n(g,t)});y.push(...e)}let b=y.reduce((e,t)=>{let n=r.ISOWeek?d(t):c(t),s=e.find(e=>e.weekNumber===n),o=new tx(t,h,a);return s?s.days.push(o):e.push(new tv(n,[o])),e},[]),v=new tb(h,b);return e.push(v),e},[]);return r.reverseMonths?h.reverse():h}(d,u,e,t),f=m.reduce((e,t)=>[...e,...t.weeks],[]),h=m.reduce((e,t)=>[...e,...t.weeks.reduce((e,t)=>[...e,...t.days],[])],[]),p=function(e,t,r,a){if(r.disableNavigation)return;let{pagedNavigation:n,numberOfMonths:s}=r,{startOfMonth:o,addMonths:i,differenceInCalendarMonths:l}=a,d=o(e);if(!t||!(0>=l(d,t)))return i(d,-(n?s??1:1))}(i,r,e,t),g=function(e,t,r,a){if(r.disableNavigation)return;let{pagedNavigation:n,numberOfMonths:s=1}=r,{startOfMonth:o,addMonths:i,differenceInCalendarMonths:l}=a,d=o(e);if(!t||!(l(t,e)<s))return i(d,n?s:1)}(i,a,e,t),{disableNavigation:y,onMonthChange:x}=e,b=e=>f.some(t=>t.days.some(t=>t.isEqualTo(e))),v=e=>{if(y)return;let t=n(e);r&&t<n(r)&&(t=n(r)),a&&t>n(a)&&(t=n(a)),l(t),x?.(t)};return{months:m,weeks:f,days:h,navStart:r,navEnd:a,previousMonth:p,nextMonth:g,goToMonth:v,goToDay:e=>{b(e)||v(e.date)}}}(e,u),{days:Y,months:F,navStart:R,navEnd:A,previousMonth:$,nextMonth:L,goToMonth:I}=W,H=function(e,t,r){let{disabled:a,hidden:s,modifiers:o,showOutsideDays:i,broadcastCalendar:l,today:d}=t,{isSameDay:c,isSameMonth:u,startOfMonth:m,isBefore:f,endOfMonth:h,isAfter:p}=r,g=t.startMonth&&m(t.startMonth),y=t.endMonth&&h(t.endMonth),x={[n.focused]:[],[n.outside]:[],[n.disabled]:[],[n.hidden]:[],[n.today]:[]},b={};for(let t of e){let{date:e,displayMonth:n}=t,m=!!(n&&!u(e,n)),h=!!(g&&f(e,g)),v=!!(y&&p(e,y)),w=!!(a&&t_(e,a,r)),k=!!(s&&t_(e,s,r))||h||v||!l&&!i&&m||l&&!1===i&&m,N=c(e,d??r.today());m&&x.outside.push(t),w&&x.disabled.push(t),k&&x.hidden.push(t),N&&x.today.push(t),o&&Object.keys(o).forEach(a=>{let n=o?.[a];n&&t_(e,n,r)&&(b[a]?b[a].push(t):b[a]=[t])})}return e=>{let t={[n.focused]:!1,[n.disabled]:!1,[n.hidden]:!1,[n.outside]:!1,[n.today]:!1},r={};for(let r in x){let a=x[r];t[r]=a.some(t=>t===e)}for(let t in b)r[t]=b[t].some(t=>t===e);return{...t,...r}}}(Y,e,u),{isSelected:q,select:z,selected:B}=function(e,t){let r=function(e,t){let{selected:r,required:a,onSelect:n}=e,[s,o]=tw(r,n?r:void 0),i=n?r:s,{isSameDay:l}=t;return{selected:i,select:(e,t,r)=>{let s=e;return!a&&i&&i&&l(e,i)&&(s=void 0),n||o(s),n?.(s,e,t,r),s},isSelected:e=>!!i&&l(i,e)}}(e,t),a=function(e,t){let{selected:r,required:a,onSelect:n}=e,[s,o]=tw(r,n?r:void 0),i=n?r:s,{isSameDay:l}=t,d=e=>i?.some(t=>l(t,e))??!1,{min:c,max:u}=e;return{selected:i,select:(e,t,r)=>{let s=[...i??[]];if(d(e)){if(i?.length===c||a&&i?.length===1)return;s=i?.filter(t=>!l(t,e))}else s=i?.length===u?[e]:[...s,e];return n||o(s),n?.(s,e,t,r),s},isSelected:d}}(e,t),n=function(e,t){let{disabled:r,excludeDisabled:a,selected:n,required:s,onSelect:o}=e,[i,l]=tw(n,o?n:void 0),d=o?n:i;return{selected:d,select:(n,i,c)=>{let{min:u,max:m}=e,f=n?function(e,t,r=0,a=0,n=!1,s=eE){let o;let{from:i,to:l}=t||{},{isSameDay:d,isAfter:c,isBefore:u}=s;if(i||l){if(i&&!l)o=d(i,e)?n?{from:i,to:void 0}:void 0:u(e,i)?{from:e,to:i}:{from:i,to:e};else if(i&&l){if(d(i,e)&&d(l,e))o=n?{from:i,to:l}:void 0;else if(d(i,e))o={from:i,to:r>0?void 0:e};else if(d(l,e))o={from:e,to:r>0?void 0:e};else if(u(e,i))o={from:e,to:l};else if(c(e,i))o={from:i,to:e};else if(c(e,l))o={from:i,to:e};else throw Error("Invalid range")}}else o={from:e,to:r>0?void 0:e};if(o?.from&&o?.to){let t=s.differenceInCalendarDays(o.to,o.from);a>0&&t>a?o={from:e,to:void 0}:r>1&&t<r&&(o={from:e,to:void 0})}return o}(n,d,u,m,s,t):void 0;return a&&r&&f?.from&&f.to&&function(e,t,r=eE){let a=Array.isArray(t)?t:[t];if(a.filter(e=>"function"!=typeof e).some(t=>"boolean"==typeof t?t:r.isDate(t)?tk(e,t,!1,r):tS(t,r)?t.some(t=>tk(e,t,!1,r)):tD(t)?!!t.from&&!!t.to&&tE(e,{from:t.from,to:t.to},r):tC(t)?function(e,t,r=eE){let a=Array.isArray(t)?t:[t],n=e.from,s=Math.min(r.differenceInCalendarDays(e.to,e.from),6);for(let e=0;e<=s;e++){if(a.includes(n.getDay()))return!0;n=r.addDays(n,1)}return!1}(e,t.dayOfWeek,r):tN(t)?r.isAfter(t.before,t.after)?tE(e,{from:r.addDays(t.after,1),to:r.addDays(t.before,-1)},r):t_(e.from,t,r)||t_(e.to,t,r):!!(tj(t)||tM(t))&&(t_(e.from,t,r)||t_(e.to,t,r))))return!0;let n=a.filter(e=>"function"==typeof e);if(n.length){let t=e.from,a=r.differenceInCalendarDays(e.to,e.from);for(let e=0;e<=a;e++){if(n.some(e=>e(t)))return!0;t=r.addDays(t,1)}}return!1}({from:f.from,to:f.to},r,t)&&(f.from=n,f.to=void 0),o||l(f),o?.(f,n,i,c),f},isSelected:e=>d&&tk(d,e,!1,t)}}(e,t);switch(e.mode){case"single":return r;case"multiple":return a;case"range":return n;default:return}}(e,u)??{},{blur:U,focused:G,isFocusTarget:Z,moveFocus:Q,setFocused:K}=function(e,t,r,a,s){let{autoFocus:o}=e,[i,l]=(0,c.useState)(),d=function(e,t,r,a){let s;let o=0,i=!1;for(;o<e.length&&!i;){let l=e[o],d=t(l);d[n.disabled]||d[n.hidden]||d[n.outside]||(d[n.focused]?(s=l,i=!0):a?.isEqualTo(l)?(s=l,i=!0):r(l.date)?(s=l,i=!0):d[n.today]&&(s=l,i=!0)),o++}return s||(s=e.find(e=>{let r=t(e);return!r[n.disabled]&&!r[n.hidden]&&!r[n.outside]})),s}(t.days,r,a||(()=>!1),i),[u,m]=(0,c.useState)(o?d:void 0);return{isFocusTarget:e=>!!d?.isEqualTo(e),setFocused:m,focused:u,blur:()=>{l(u),m(void 0)},moveFocus:(r,a)=>{if(!u)return;let n=function e(t,r,a,n,s,o,i,l=0){if(l>365)return;let d=function(e,t,r,a,n,s,o){let{ISOWeek:i,broadcastCalendar:l}=s,{addDays:d,addMonths:c,addWeeks:u,addYears:m,endOfBroadcastWeek:f,endOfISOWeek:h,endOfWeek:p,max:g,min:y,startOfBroadcastWeek:x,startOfISOWeek:b,startOfWeek:v}=o,w=({day:d,week:u,month:c,year:m,startOfWeek:e=>l?x(e,o):i?b(e):v(e),endOfWeek:e=>l?f(e,o):i?h(e):p(e)})[e](r,"after"===t?1:-1);return"before"===t&&a?w=g([a,w]):"after"===t&&n&&(w=y([n,w])),w}(t,r,a.date,n,s,o,i),c=!!(o.disabled&&t_(d,o.disabled,i)),u=!!(o.hidden&&t_(d,o.hidden,i)),m=new tx(d,d,i);return c||u?e(t,r,m,n,s,o,i,l+1):m}(r,a,u,t.navStart,t.navEnd,e,s);n&&(t.goToDay(n),m(n))}}}(e,W,H,q??(()=>!1),u),{labelDayButton:X,labelGridcell:V,labelGrid:J,labelMonthDropdown:ee,labelNav:et,labelWeekday:er,labelWeekNumber:ea,labelWeekNumberHeader:en,labelYearDropdown:es}=d,eo=(0,c.useMemo)(()=>(function(e,t,r){let a=e.today(),n=t?e.startOfISOWeek(a):e.startOfWeek(a),s=[];for(let t=0;t<7;t++){let r=e.addDays(n,t);s.push(r)}return s})(u,e.ISOWeek),[u,e.ISOWeek]),ei=void 0!==p||void 0!==y,el=(0,c.useCallback)(()=>{$&&(I($),N?.($))},[$,I,N]),ed=(0,c.useCallback)(()=>{L&&(I(L),k?.(L))},[I,L,k]),ec=(0,c.useCallback)((e,t)=>r=>{r.preventDefault(),r.stopPropagation(),K(e),z?.(e.date,t,r),y?.(e.date,t,r)},[z,y,K]),eu=(0,c.useCallback)((e,t)=>r=>{K(e),x?.(e.date,t,r)},[x,K]),em=(0,c.useCallback)((e,t)=>r=>{U(),g?.(e.date,t,r)},[U,g]),ef=(0,c.useCallback)((t,r)=>a=>{let n={ArrowLeft:["day","rtl"===e.dir?"after":"before"],ArrowRight:["day","rtl"===e.dir?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[a.shiftKey?"year":"month","before"],PageDown:[a.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(n[a.key]){a.preventDefault(),a.stopPropagation();let[e,t]=n[a.key];Q(e,t)}b?.(t.date,r,a)},[Q,b,e.dir]),eh=(0,c.useCallback)((e,t)=>r=>{v?.(e.date,t,r)},[v]),ep=(0,c.useCallback)((e,t)=>r=>{w?.(e.date,t,r)},[w]),eg=(0,c.useCallback)(e=>t=>{let r=Number(t.target.value);I(u.setMonth(u.startOfMonth(e),r))},[u,I]),ey=(0,c.useCallback)(e=>t=>{let r=Number(t.target.value);I(u.setYear(u.startOfMonth(e),r))},[u,I]),{className:ex,style:eb}=(0,c.useMemo)(()=>({className:[f[a.Root],e.className].filter(Boolean).join(" "),style:{...j?.[a.Root],...e.style}}),[f,e.className,e.style,j]),ev=function(e){let t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0};return Object.entries(e).forEach(([e,r])=>{e.startsWith("data-")&&(t[e]=r)}),t}(e);return c.createElement(eq.Provider,{value:{dayPickerProps:e,selected:B,select:z,isSelected:q,months:F,nextMonth:L,previousMonth:$,goToMonth:I,getModifiers:H,components:t,classNames:f,styles:j,labels:d,formatters:r}},c.createElement(t.Root,{className:ex,style:eb,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...ev},c.createElement(t.Months,{className:f[a.Months],style:j?.[a.Months]},!e.hideNavigation&&c.createElement(t.Nav,{className:f[a.Nav],style:j?.[a.Nav],"aria-label":et(),onPreviousClick:el,onNextClick:ed,previousMonth:$,nextMonth:L}),F.map((o,i)=>{let l=function(e,t,r,a,n){let{startOfMonth:s,startOfYear:o,endOfYear:i,eachMonthOfInterval:l,getMonth:d}=n;return l({start:o(e),end:i(e)}).map(e=>{let o=a.formatMonthDropdown(e,n);return{value:d(e),label:o,disabled:t&&e<s(t)||r&&e>s(r)||!1}})}(o.date,R,A,r,u),d=function(e,t,r,a){if(!e||!t)return;let{startOfYear:n,endOfYear:s,addYears:o,getYear:i,isBefore:l,isSameYear:d}=a,c=n(e),u=s(t),m=[],f=c;for(;l(f,u)||d(f,u);)m.push(f),f=o(f,1);return m.map(e=>{let t=r.formatYearDropdown(e,a);return{value:i(e),label:t,disabled:!1}})}(R,A,r,u);return c.createElement(t.Month,{className:f[a.Month],style:j?.[a.Month],key:i,displayIndex:i,calendarMonth:o},c.createElement(t.MonthCaption,{className:f[a.MonthCaption],style:j?.[a.MonthCaption],calendarMonth:o,displayIndex:i},h?.startsWith("dropdown")?c.createElement(t.DropdownNav,{className:f[a.Dropdowns],style:j?.[a.Dropdowns]},"dropdown"===h||"dropdown-months"===h?c.createElement(t.MonthsDropdown,{className:f[a.MonthsDropdown],"aria-label":ee(),classNames:f,components:t,disabled:!!e.disableNavigation,onChange:eg(o.date),options:l,style:j?.[a.Dropdown],value:u.getMonth(o.date)}):c.createElement("span",{role:"status","aria-live":"polite"},S(o.date,u)),"dropdown"===h||"dropdown-years"===h?c.createElement(t.YearsDropdown,{className:f[a.YearsDropdown],"aria-label":es(u.options),classNames:f,components:t,disabled:!!e.disableNavigation,onChange:ey(o.date),options:d,style:j?.[a.Dropdown],value:u.getYear(o.date)}):c.createElement("span",{role:"status","aria-live":"polite"},T(o.date,u))):c.createElement(t.CaptionLabel,{className:f[a.CaptionLabel],role:"status","aria-live":"polite"},M(o.date,u.options,u))),c.createElement(t.MonthGrid,{role:"grid","aria-multiselectable":"multiple"===p||"range"===p,"aria-label":J(o.date,u.options,u)||void 0,className:f[a.MonthGrid],style:j?.[a.MonthGrid]},!e.hideWeekdays&&c.createElement(t.Weekdays,{className:f[a.Weekdays],style:j?.[a.Weekdays]},D&&c.createElement(t.WeekNumberHeader,{"aria-label":en(u.options),className:f[a.WeekNumberHeader],style:j?.[a.WeekNumberHeader],scope:"col"},E()),eo.map((e,r)=>c.createElement(t.Weekday,{"aria-label":er(e,u.options,u),className:f[a.Weekday],key:r,style:j?.[a.Weekday],scope:"col"},O(e,u.options,u)))),c.createElement(t.Weeks,{className:f[a.Weeks],style:j?.[a.Weeks]},o.weeks.map((r,o)=>c.createElement(t.Week,{className:f[a.Week],key:r.weekNumber,style:j?.[a.Week],week:r},D&&c.createElement(t.WeekNumber,{week:r,style:j?.[a.WeekNumber],"aria-label":ea(r.weekNumber,{locale:m}),className:f[a.WeekNumber],scope:"row",role:"rowheader"},_(r.weekNumber)),r.days.map(r=>{let{date:o}=r,i=H(r);if(i[n.focused]=!i.hidden&&!!G?.isEqualTo(r),i[s.selected]=!i.disabled&&(q?.(o)||i.selected),tD(B)){let{from:e,to:t}=B;i[s.range_start]=!!(e&&t&&u.isSameDay(o,e)),i[s.range_end]=!!(e&&t&&u.isSameDay(o,t)),i[s.range_middle]=tk(B,o,!0,u)}let l=function(e,t={},r={}){let n={...t?.[a.Day]};return Object.entries(e).filter(([,e])=>!0===e).forEach(([e])=>{n={...n,...r?.[e]}}),n}(i,j,e.modifiersStyles),d=function(e,t,r={}){return Object.entries(e).filter(([,e])=>!0===e).reduce((e,[a])=>(r[a]?e.push(r[a]):t[n[a]]?e.push(t[n[a]]):t[s[a]]&&e.push(t[s[a]]),e),[t[a.Day]])}(i,f,e.modifiersClassNames),m=ei||i.hidden?void 0:V(o,i,u.options,u);return c.createElement(t.Day,{key:`${u.format(o,"yyyy-MM-dd")}_${u.format(r.displayMonth,"yyyy-MM")}`,day:r,modifiers:i,className:d.join(" "),style:l,role:"gridcell","aria-selected":i.selected||void 0,"aria-label":m,"data-day":u.format(o,"yyyy-MM-dd"),"data-month":r.outside?u.format(o,"yyyy-MM"):void 0,"data-selected":i.selected||void 0,"data-disabled":i.disabled||void 0,"data-hidden":i.hidden||void 0,"data-outside":r.outside||void 0,"data-focused":i.focused||void 0,"data-today":i.today||void 0},!i.hidden&&ei?c.createElement(t.DayButton,{className:f[a.DayButton],style:j?.[a.DayButton],type:"button",day:r,modifiers:i,disabled:i.disabled||void 0,tabIndex:Z(r)?0:-1,"aria-label":X(o,i,u.options,u),onClick:ec(r,i),onBlur:em(r,i),onFocus:eu(r,i),onKeyDown:ef(r,i),onMouseEnter:eh(r,i),onMouseLeave:ep(r,i)},C(o,u.options,u)):!i.hidden&&C(r.date,u.options,u))}))))))})),e.footer&&c.createElement(t.Footer,{className:f[a.Footer],style:j?.[a.Footer],role:"status","aria-live":"polite"},e.footer)))}var tT=r(44195);function tW({className:e,classNames:t,showOutsideDays:r=!0,...a}){return(0,d.jsx)(tO,{showOutsideDays:r,className:(0,tT.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,tT.cn)((0,D.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,tT.cn)((0,D.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},...a})}tW.displayName="Calendar";var tP=r(29952),tY=r(6004),tF=r(31412),tR=r(13024),tA=r(66582),t$=r(38762),tL=r(98060),tI=r(30830),tH="Checkbox",[tq,tz]=(0,tY.A)(tH),[tB,tU]=tq(tH),tG=c.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:a,checked:n,defaultChecked:s,required:o,disabled:i,value:l="on",onCheckedChange:u,form:m,...f}=e,[h,p]=c.useState(null),g=(0,tP.s)(t,e=>p(e)),y=c.useRef(!1),x=!h||m||!!h.closest("form"),[b=!1,v]=(0,tR.i)({prop:n,defaultProp:s,onChange:u}),w=c.useRef(b);return c.useEffect(()=>{let e=h?.form;if(e){let t=()=>v(w.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[h,v]),(0,d.jsxs)(tB,{scope:r,state:b,disabled:i,children:[(0,d.jsx)(tI.sG.button,{type:"button",role:"checkbox","aria-checked":tX(b)?"mixed":b,"aria-required":o,"data-state":tV(b),"data-disabled":i?"":void 0,disabled:i,value:l,...f,ref:g,onKeyDown:(0,tF.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,tF.m)(e.onClick,e=>{v(e=>!!tX(e)||!e),x&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),x&&(0,d.jsx)(tK,{control:h,bubbles:!y.current,name:a,value:l,checked:b,required:o,disabled:i,form:m,style:{transform:"translateX(-100%)"},defaultChecked:!tX(s)&&s})]})});tG.displayName=tH;var tZ="CheckboxIndicator",tQ=c.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:a,...n}=e,s=tU(tZ,r);return(0,d.jsx)(tL.C,{present:a||tX(s.state)||!0===s.state,children:(0,d.jsx)(tI.sG.span,{"data-state":tV(s.state),"data-disabled":s.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});tQ.displayName=tZ;var tK=e=>{let{control:t,checked:r,bubbles:a=!0,defaultChecked:n,...s}=e,o=c.useRef(null),i=(0,tA.Z)(r),l=(0,t$.X)(t);c.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==r&&t){let n=new Event("click",{bubbles:a});e.indeterminate=tX(r),t.call(e,!tX(r)&&r),e.dispatchEvent(n)}},[i,r,a]);let u=c.useRef(!tX(r)&&r);return(0,d.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??u.current,...s,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function tX(e){return"indeterminate"===e}function tV(e){return tX(e)?"indeterminate":e?"checked":"unchecked"}var tJ=r(24999);let t0=c.forwardRef(({className:e,...t},r)=>(0,d.jsx)(tG,{ref:r,className:(0,tT.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:(0,d.jsx)(tQ,{className:(0,tT.cn)("flex items-center justify-center text-current"),children:(0,d.jsx)(tJ.A,{className:"h-4 w-4"})})}));function t1({open:e,onOpenChange:t,filters:r,onFiltersChange:a,onApply:n,onReset:s}){return(0,d.jsx)(ef.lG,{open:e,onOpenChange:t,children:(0,d.jsxs)(ef.Cf,{children:[(0,d.jsx)(ef.c7,{children:(0,d.jsx)(ef.L3,{children:"Filter Messages"})}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Date Range"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsx)(tW,{mode:"single",selected:r.start_date?new Date(r.start_date):void 0,onSelect:e=>a({...r,start_date:e?.toISOString()})}),(0,d.jsx)(tW,{mode:"single",selected:r.end_date?new Date(r.end_date):void 0,onSelect:e=>a({...r,end_date:e?.toISOString()})})]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(t0,{id:"read",checked:r.is_read,onCheckedChange:e=>a({...r,is_read:!!e})}),(0,d.jsx)("label",{htmlFor:"read",children:"Show read messages only"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(t0,{id:"attachments",checked:r.has_attachment,onCheckedChange:e=>a({...r,has_attachment:!!e})}),(0,d.jsx)("label",{htmlFor:"attachments",children:"Show messages with attachments"})]}),(0,d.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,d.jsx)(D.$,{variant:"outline",onClick:s,children:"Reset"}),(0,d.jsx)(D.$,{onClick:n,children:"Apply Filters"})]})]})]})})}function t2(){let[e,t]=(0,c.useState)(!0),[r,a]=(0,c.useState)([]),[n,s]=(0,c.useState)(null),[o,i]=(0,c.useState)([]),[l,h]=(0,c.useState)(""),[p,g]=(0,c.useState)([]),[y,x]=(0,c.useState)(!1),[b,v]=(0,c.useState)(!1),[k,N]=(0,c.useState)({}),[D,j]=(0,c.useState)(1),[M,C]=(0,c.useState)(!0),[S,_]=(0,c.useState)(!1),[E,O]=(0,c.useState)([]),[T,W]=(0,c.useState)(null),[P,Y]=(0,c.useState)(new Map),F=(0,c.useCallback)(async(e,t=1,r=!1)=>{try{_(!0);let a=await m.Pt.getMessages(e,t);if(a.success&&a.data?.results){let e=[...a.data.results].reverse();C(!!a.data.next),i(t=>{if(!r)return e;{let r=[...e,...t].reduce((e,t)=>(e.set(t.id,t),e),new Map);return Array.from(r.values())}}),r||requestAnimationFrame(()=>{let e=document.querySelector(".chat-messages-container");e&&(e.scrollTop=e.scrollHeight)})}}catch(e){console.error("Error loading messages:",e),u.oR.error("Failed to load messages")}finally{_(!1)}},[]);(0,c.useCallback)(async()=>{try{let e=await m.Pt.getRooms();if(console.log("Chat rooms response:",e),e.success&&e.data?.results){let t=[...e.data.results].sort((e,t)=>{let r=new Date(e.last_message?e.last_message.created_at:0);return new Date(t.last_message?t.last_message.created_at:0).getTime()-r.getTime()});console.log("Sorted chat rooms:",t),a(t)}else console.error("Failed to load chat rooms:",e),u.oR.error(e.message||"Failed to load chat rooms")}catch(e){console.error("Error loading chat rooms:",e),u.oR.error("Failed to load chats")}finally{t(!1)}},[]);let R=(0,c.useCallback)(async e=>{if(!e.trim()){g([]),x(!1);return}x(!0);try{let t=await m.i$.searchUsers(e);if(t.success&&t.data){let e=t.data.map(e=>({...e,avatar_url:e.avatar_url||null}));g(e)}}catch(e){console.error("Search error:",e),u.oR.error("Failed to search users")}finally{x(!1)}},[]),A=(0,c.useCallback)(async e=>{try{let t=await m.Pt.createRoom(e);t.success?(a(e=>[t.data,...e]),s(t.data)):u.oR.error(t.message||"Failed to create chat room")}catch(e){console.error("Error creating chat room:",e),u.oR.error("Failed to create chat room")}},[]),$="ws://localhost:8000",{sendMessage:L,isConnected:I,socket:H}=function({url:e,onMessage:t,onConnect:r,onDisconnect:a}){let n=(0,c.useRef)(null),s=(0,c.useRef)(!1);return{sendMessage:(0,c.useCallback)(e=>{n.current?.readyState===WebSocket.OPEN&&n.current.send(JSON.stringify(e))},[]),isConnected:s.current,socket:n.current}}({url:(0,c.useMemo)(()=>{if(!n)return"";let e=localStorage.getItem("access_token");return e?`${$}/ws/chat/${n.id}/?token=${e}`:""},[$,n]),onMessage:(0,c.useCallback)(e=>{if(console.log("WebSocket message received:",e),"chat_message"===e.type&&e.message){let t={id:e.message.id,content:e.message.content,sender:{id:e.message.sender.id,username:e.message.sender.username,avatar_url:e.message.sender.avatar_url},created_at:e.message.created_at,is_read:e.message.is_read,read_at:null,attachment:null,attachment_type:null,updated_at:e.message.created_at};i(e=>e.some(e=>e.id===t.id)?e:[...e,t]),n&&a(e=>e.map(e=>e.id===n.id?{...e,last_message:t,updated_at:t.created_at}:e).sort((e,t)=>{let r=new Date(e.last_message?e.last_message.created_at:0);return new Date(t.last_message?t.last_message.created_at:0).getTime()-r.getTime()}))}else if("user_status"===e.type&&e.user_status){let t=e.user_status.user_id,r=e.user_status.status;n&&t===n.other_participant.id&&(console.log(`Updating status for other participant: ${t} to ${r}`),O(e=>"online"!==r?(console.log("Removing user from online users"),Y(e=>{let r=new Map(e);return r.set(t,new Date().toISOString()),r}),e.filter(e=>e!==t)):e.includes(t)?e:(console.log("Adding user to online users"),[...e,t])))}},[n]),onConnect:(0,c.useCallback)(()=>{console.log("Connected to chat room:",n?.id),n&&F(n.id)},[n,F])}),q=(0,c.useCallback)(()=>{if(n&&l.trim())try{console.log("Sending message:",{type:"chat_message",content:l,room_id:n.id}),L({type:"chat_message",content:l,room_id:n.id}),h("")}catch(e){console.error("Error sending message:",e),u.oR.error("Failed to send message")}},[n,l,L]),z=(0,c.useCallback)(async e=>{let t=e.target;if(!S&&M&&n&&t.scrollTop<=100){console.log("Loading more messages...");let e=D+1;j(e);let r=t.scrollHeight,a=t.scrollTop;try{await F(n.id,e,!0),requestAnimationFrame(()=>{let e=t.scrollHeight;t.scrollTop=a+(e-r)})}catch(e){console.error("Error loading more messages:",e)}}},[D,M,S,n,F]);return e?(0,d.jsx)("div",{className:"h-screen flex items-center justify-center",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,d.jsxs)("div",{className:"h-[100dvh] flex bg-white dark:bg-gray-900 overflow-hidden",children:[(0,d.jsx)("div",{className:`
        ${n?"hidden md:flex":"flex"} 
        w-full md:w-80 border-r border-gray-200 dark:border-gray-800
        flex-col
      `,children:(0,d.jsx)(w,{chatRooms:r,onSelectRoom:e=>{s(e),window.innerWidth<768&&setTimeout(()=>{let e=document.querySelector(".chat-messages-container");e&&(e.scrollTop=e.scrollHeight)},100)},selectedRoom:n,onSearch:R,searchResults:p,searching:y,onCreateRoom:A})}),(0,d.jsx)("div",{className:`
        ${n?"block":"hidden md:block"} 
        flex-1 relative
        ${n?"fixed md:relative inset-0 md:inset-auto":""}
      `,children:n?(0,d.jsx)(em,{room:n,messages:o,isOnline:E.includes(n.other_participant.id),lastSeen:P.get(n.other_participant.id)||null,isConnected:I,onBack:()=>{s(null),j(1)},newMessage:l,onNewMessageChange:h,onSendMessage:q,onScroll:z,loadingMore:S,socket:T}):(0,d.jsx)("div",{className:"hidden md:flex flex-1 items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(f.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Select a chat"}),(0,d.jsx)("p",{className:"text-gray-500",children:"Choose a conversation or start a new one"})]})})}),(0,d.jsx)(t1,{open:b,onOpenChange:v,filters:k,onFiltersChange:N,onApply:async()=>{if(n){let e=await m.Pt.filterMessages(n.id,k);e.success&&(i(e.data||[]),v(!1))}},onReset:()=>{N({}),n&&F(n.id),v(!1)}})]})}t0.displayName=tG.displayName},8623:(e,t,r)=>{"use strict";r.d(t,{c:()=>h});var a=r(45512),n=r(28531),s=r.n(n),o=r(79334),i=r(31700),l=r(85763),d=r(5899),c=r(48609),u=r(17990),m=r(42092);let f=[{name:"Home",href:"/dashboard",icon:l.A,color:"text-blue-500"},{name:"Explore",href:"/search",icon:d.A,color:"text-green-500"},{name:"Create",href:"/create",icon:c.A,color:"text-purple-500"},{name:"Messages",href:"/messages",icon:u.A,color:"text-pink-500"},{name:"Profile",href:"/profile",icon:m.A,color:"text-indigo-500"}];function h(){let e=(0,o.usePathname)();return(0,a.jsxs)("div",{className:"fixed bottom-0 inset-x-0 z-50",children:[(0,a.jsx)("div",{className:"h-[1px] bg-gradient-to-r from-transparent via-gray-200 dark:via-gray-700 to-transparent"}),(0,a.jsx)("nav",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-t border-gray-200 dark:border-gray-800",children:(0,a.jsx)("div",{className:"max-w-screen-xl mx-auto",children:(0,a.jsx)("div",{className:"flex items-center justify-around px-4 py-2",children:f.map(t=>{let r=e===t.href;return(0,a.jsx)(s(),{href:t.href,className:"relative py-2 px-3",children:(0,a.jsxs)(i.P.div,{className:"flex flex-col items-center",whileTap:{scale:.9},children:[(0,a.jsxs)("div",{className:`
                      relative p-1.5 rounded-xl
                      ${r?"text-primary-500 dark:text-primary-400":"text-gray-500 dark:text-gray-400"}
                    `,children:[(0,a.jsx)(t.icon,{className:`
                        h-6 w-6 transition-colors
                        ${r?t.color:"current"}
                      `}),r&&(0,a.jsx)(i.P.div,{className:"absolute inset-0 bg-primary-100 dark:bg-primary-900/20 rounded-xl -z-10",layoutId:"nav-pill",transition:{type:"spring",duration:.5}})]}),(0,a.jsx)("span",{className:`
                      text-xs mt-1 transition-colors
                      ${r?"font-medium text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}
                    `,children:t.name})]})},t.name)})})})})]})}},30806:(e,t,r)=>{"use strict";r.d(t,{B:()=>k});var a=r(45512),n=r(79334),s=r(28531),o=r.n(s),i=r(58009),l=r(31700),d=r(85763),c=r(5899),u=r(48609),m=r(17990),f=r(53330),h=r(42092),p=r(28790),g=r(35120),y=r(39400),x=r(4795),b=r(22403),v=r(45103);let w=[{name:"Home",href:"/dashboard",icon:d.A,color:"text-blue-500 dark:text-blue-400"},{name:"Explore",href:"/search",icon:c.A,color:"text-green-500 dark:text-green-400"},{name:"Create",href:"/create",icon:u.A,color:"text-purple-500 dark:text-purple-400"},{name:"Messages",href:"/messages",icon:m.A,color:"text-pink-500 dark:text-pink-400"},{name:"Notifications",href:"/notifications",icon:f.A,color:"text-yellow-500 dark:text-yellow-400"},{name:"Profile",href:"/profile",icon:h.A,color:"text-gray-500 dark:text-gray-400"}];function k({currentUser:e}){let t=(0,n.useRouter)(),r=(0,n.usePathname)(),[s,d]=(0,i.useState)(!1),c=async()=>{try{await x.ZQ.logout(),localStorage.clear(),b.oR.success("Logged out successfully"),t.push("/auth/login")}catch(e){console.error("Logout error:",e),localStorage.clear(),t.push("/auth/login")}};return s?(0,a.jsxs)("div",{className:"flex h-full flex-col bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800",children:[(0,a.jsx)("div",{className:"flex h-16 items-center px-6 border-b border-gray-200 dark:border-gray-800",children:(0,a.jsx)(o(),{href:"/dashboard",className:"flex items-center",children:(0,a.jsx)(l.P.span,{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-primary-400 bg-clip-text text-transparent",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:"Neuhu"})})}),(0,a.jsx)("nav",{className:"flex-1 space-y-1 p-4 overflow-y-auto",children:w.map((e,t)=>{let n=r===e.href;return(0,a.jsx)(l.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t,duration:.2},children:(0,a.jsx)(o(),{href:e.href,children:(0,a.jsxs)("div",{className:`
                  relative flex items-center px-4 py-2.5 rounded-xl transition-all
                  ${n?"text-primary-500 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}
                `,children:[(0,a.jsx)(e.icon,{className:`h-5 w-5 ${e.color}`}),(0,a.jsx)("span",{className:"ml-3 font-medium",children:e.name}),n&&(0,a.jsx)(l.P.div,{layoutId:"sidebar-active",className:"absolute left-0 w-1 inset-y-1 bg-primary-500 dark:bg-primary-400 rounded-full",transition:{type:"spring",stiffness:300,damping:30}})]})})},e.href)})}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-4",children:[e&&(0,a.jsx)(o(),{href:"/profile",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors group",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("div",{className:"h-10 w-10 rounded-full overflow-hidden ring-2 ring-offset-2 ring-transparent group-hover:ring-primary-500/20 dark:ring-offset-gray-900 transition-all",children:e.avatar_url?(0,a.jsx)("div",{className:"relative h-full w-full",children:(0,a.jsx)(v.default,{src:(0,x.m_)(e.avatar_url),alt:`${e.first_name} ${e.last_name}`,fill:!0,className:"object-cover rounded-full transition-transform duration-300 group-hover:scale-110",sizes:"40px"})}):(0,a.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:(0,a.jsx)(h.A,{className:"h-5 w-5 text-gray-400"})})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:`${e.first_name} ${e.last_name}`}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["@",e.username]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsx)(y.$,{variant:"ghost",size:"icon",className:"rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800",children:(0,a.jsx)(o(),{href:"/profile/edit",children:(0,a.jsx)(p.A,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})}),(0,a.jsx)(y.$,{variant:"ghost",size:"icon",onClick:c,className:"rounded-xl text-red-500 hover:bg-red-50 hover:text-red-600 dark:text-red-400 dark:hover:bg-red-900/20",children:(0,a.jsx)(g.A,{className:"h-5 w-5"})})]})]})})]}):null}},37658:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var a=r(45512),n=r(58009),s=r(44195);let o=n.forwardRef(({className:e,type:t,...r},n)=>(0,a.jsx)("input",{type:t,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));o.displayName="Input"},43264:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>c,L3:()=>m,c7:()=>u,lG:()=>i});var a=r(45512),n=r(58009),s=r(27553),o=r(44195);let i=s.bL;s.l9;let l=s.ZL;s.bm;let d=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(s.hJ,{ref:r,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));d.displayName="DialogOverlay";let c=n.forwardRef(({className:e,children:t,...r},n)=>(0,a.jsxs)(l,{children:[(0,a.jsx)(d,{}),(0,a.jsx)(s.UC,{ref:n,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:t})]}));c.displayName="DialogContent";let u=({className:e,...t})=>(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});u.displayName="DialogHeader";let m=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(s.hE,{ref:r,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));m.displayName=s.hE.displayName,n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(s.VY,{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",e),...t})).displayName=s.VY.displayName},71371:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/tanmayarora/Desktop/testing/fixed-tanner/frontend/src/app/messages/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/tanmayarora/Desktop/testing/fixed-tanner/frontend/src/app/messages/layout.tsx","default")},18416:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/tanmayarora/Desktop/testing/fixed-tanner/frontend/src/app/messages/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/tanmayarora/Desktop/testing/fixed-tanner/frontend/src/app/messages/page.tsx","default")},27553:(e,t,r)=>{"use strict";r.d(t,{UC:()=>et,VY:()=>ea,ZL:()=>J,bL:()=>X,bm:()=>en,hE:()=>er,hJ:()=>ee,l9:()=>V});var a=r(58009),n=r(31412),s=r(29952),o=r(6004),i=r(30096),l=r(13024),d=r(41675),c=r(82534),u=r(80707),m=r(98060),f=r(30830),h=r(19632),p=r(54669),g=r(72421),y=r(12705),x=r(45512),b="Dialog",[v,w]=(0,o.A)(b),[k,N]=v(b),D=e=>{let{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:d=!0}=e,c=a.useRef(null),u=a.useRef(null),[m=!1,f]=(0,l.i)({prop:n,defaultProp:s,onChange:o});return(0,x.jsx)(k,{scope:t,triggerRef:c,contentRef:u,contentId:(0,i.B)(),titleId:(0,i.B)(),descriptionId:(0,i.B)(),open:m,onOpenChange:f,onOpenToggle:a.useCallback(()=>f(e=>!e),[f]),modal:d,children:r})};D.displayName=b;var j="DialogTrigger",M=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,o=N(j,r),i=(0,s.s)(t,o.triggerRef);return(0,x.jsx)(f.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":B(o.open),...a,ref:i,onClick:(0,n.m)(e.onClick,o.onOpenToggle)})});M.displayName=j;var C="DialogPortal",[S,_]=v(C,{forceMount:void 0}),E=e=>{let{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=N(C,t);return(0,x.jsx)(S,{scope:t,forceMount:r,children:a.Children.map(n,e=>(0,x.jsx)(m.C,{present:r||o.open,children:(0,x.jsx)(u.Z,{asChild:!0,container:s,children:e})}))})};E.displayName=C;var O="DialogOverlay",T=a.forwardRef((e,t)=>{let r=_(O,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,s=N(O,e.__scopeDialog);return s.modal?(0,x.jsx)(m.C,{present:a||s.open,children:(0,x.jsx)(W,{...n,ref:t})}):null});T.displayName=O;var W=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=N(O,r);return(0,x.jsx)(p.A,{as:y.DX,allowPinchZoom:!0,shards:[n.contentRef],children:(0,x.jsx)(f.sG.div,{"data-state":B(n.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),P="DialogContent",Y=a.forwardRef((e,t)=>{let r=_(P,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,s=N(P,e.__scopeDialog);return(0,x.jsx)(m.C,{present:a||s.open,children:s.modal?(0,x.jsx)(F,{...n,ref:t}):(0,x.jsx)(R,{...n,ref:t})})});Y.displayName=P;var F=a.forwardRef((e,t)=>{let r=N(P,e.__scopeDialog),o=a.useRef(null),i=(0,s.s)(t,r.contentRef,o);return a.useEffect(()=>{let e=o.current;if(e)return(0,g.Eq)(e)},[]),(0,x.jsx)(A,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,n.m)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,n.m)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,n.m)(e.onFocusOutside,e=>e.preventDefault())})}),R=a.forwardRef((e,t)=>{let r=N(P,e.__scopeDialog),n=a.useRef(!1),s=a.useRef(!1);return(0,x.jsx)(A,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"!==t.detail.originalEvent.type||(s.current=!0));let a=t.target;r.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),A=a.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:i,...l}=e,u=N(P,r),m=a.useRef(null),f=(0,s.s)(t,m);return(0,h.Oh)(),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.n,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:i,children:(0,x.jsx)(d.qW,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":B(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Q,{titleId:u.titleId}),(0,x.jsx)(K,{contentRef:m,descriptionId:u.descriptionId})]})]})}),$="DialogTitle",L=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=N($,r);return(0,x.jsx)(f.sG.h2,{id:n.titleId,...a,ref:t})});L.displayName=$;var I="DialogDescription",H=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=N(I,r);return(0,x.jsx)(f.sG.p,{id:n.descriptionId,...a,ref:t})});H.displayName=I;var q="DialogClose",z=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,s=N(q,r);return(0,x.jsx)(f.sG.button,{type:"button",...a,ref:t,onClick:(0,n.m)(e.onClick,()=>s.onOpenChange(!1))})});function B(e){return e?"open":"closed"}z.displayName=q;var U="DialogTitleWarning",[G,Z]=(0,o.q)(U,{contentName:P,titleName:$,docsSlug:"dialog"}),Q=({titleId:e})=>{let t=Z(U),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&!document.getElementById(e)&&console.error(r)},[r,e]),null},K=({contentRef:e,descriptionId:t})=>{let r=Z("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return a.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&!document.getElementById(t)&&console.warn(n)},[n,e,t]),null},X=D,V=M,J=E,ee=T,et=Y,er=L,ea=H,en=z},71894:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(94825).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[461,482,668,531,103,703,432,470,180],()=>r(92407));module.exports=a})();