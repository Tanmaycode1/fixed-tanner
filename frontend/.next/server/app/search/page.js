(()=>{var e={};e.id=959,e.ids=[959],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},6435:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=t(70260),a=t(28203),i=t(25155),n=t.n(i),o=t(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d=["",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,22524)),"/Users/tanmayarora/Desktop/testing/fixed-tanner/frontend/src/app/search/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,71354)),"/Users/tanmayarora/Desktop/testing/fixed-tanner/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/Users/tanmayarora/Desktop/testing/fixed-tanner/frontend/src/app/search/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},11709:(e,r,t)=>{Promise.resolve().then(t.bind(t,22524))},6973:(e,r,t)=>{Promise.resolve().then(t.bind(t,17200))},3781:(e,r,t)=>{var s=t(20409).Symbol;e.exports=s},348:(e,r,t)=>{var s=t(3781),a=t(36563),i=t(57406),n=s?s.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":n&&n in Object(e)?a(e):i(e)}},30492:(e,r,t)=>{var s=t(40428),a=/^\s+/;e.exports=function(e){return e?e.slice(0,s(e)+1).replace(a,""):e}},78372:e=>{var r="object"==typeof global&&global&&global.Object===Object&&global;e.exports=r},36563:(e,r,t)=>{var s=t(3781),a=Object.prototype,i=a.hasOwnProperty,n=a.toString,o=s?s.toStringTag:void 0;e.exports=function(e){var r=i.call(e,o),t=e[o];try{e[o]=void 0;var s=!0}catch(e){}var a=n.call(e);return s&&(r?e[o]=t:delete e[o]),a}},57406:e=>{var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},20409:(e,r,t)=>{var s=t(78372),a="object"==typeof self&&self&&self.Object===Object&&self,i=s||a||Function("return this")();e.exports=i},40428:e=>{var r=/\s/;e.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},71281:(e,r,t)=>{var s=t(54649),a=t(82248),i=t(63558),n=Math.max,o=Math.min;e.exports=function(e,r,t){var l,d,c,u,p,x,f=0,m=!1,h=!1,v=!0;if("function"!=typeof e)throw TypeError("Expected a function");function g(r){var t=l,s=d;return l=d=void 0,f=r,u=e.apply(s,t)}function b(e){var t=e-x,s=e-f;return void 0===x||t>=r||t<0||h&&s>=c}function y(){var e,t,s,i=a();if(b(i))return j(i);p=setTimeout(y,(e=i-x,t=i-f,s=r-e,h?o(s,c-t):s))}function j(e){return(p=void 0,v&&l)?g(e):(l=d=void 0,u)}function N(){var e,t=a(),s=b(t);if(l=arguments,d=this,x=t,s){if(void 0===p)return f=e=x,p=setTimeout(y,r),m?g(e):u;if(h)return clearTimeout(p),p=setTimeout(y,r),g(x)}return void 0===p&&(p=setTimeout(y,r)),u}return r=i(r)||0,s(t)&&(m=!!t.leading,c=(h="maxWait"in t)?n(i(t.maxWait)||0,r):c,v="trailing"in t?!!t.trailing:v),N.cancel=function(){void 0!==p&&clearTimeout(p),f=0,l=x=d=p=void 0},N.flush=function(){return void 0===p?u:j(a())},N}},54649:e=>{e.exports=function(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)}},72946:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},11746:(e,r,t)=>{var s=t(348),a=t(72946);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==s(e)}},82248:(e,r,t)=>{var s=t(20409);e.exports=function(){return s.Date.now()}},63558:(e,r,t)=>{var s=t(30492),a=t(54649),i=t(11746),n=0/0,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,d=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return n;if(a(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=a(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var t=l.test(e);return t||d.test(e)?c(e.slice(2),t?2:8):o.test(e)?n:+e}},17200:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>k});var s=t(45512),a=t(58009),i=t(79334),n=t(80637),o=t(37658),l=t(5899),d=t(26753),c=t(42092),u=t(67682),p=t(4795),x=t(28531),f=t.n(x),m=t(39400),h=t(48523),v=t(22403),g=t(71281),b=t.n(g),y=t(30806),j=t(8623),N=t(37730);function k(){let e=(0,i.useSearchParams)(),[r,t]=(0,a.useState)(e.get("q")||""),[x,g]=(0,a.useState)("all"),[k,w]=(0,a.useState)({posts:[],users:[]}),[q,T]=(0,a.useState)(!1),[C,P]=(0,a.useState)(!0),[S,A]=(0,a.useState)([]),[R,_]=(0,a.useState)(null),D=async e=>{if(!e.trim()){w({posts:[],users:[]});return}try{T(!0);let r=await N.M.search(e,x);r.success?w(r.data??{posts:[],users:[]}):(w({posts:[],users:[]}),r.error?.includes("Network error")||v.oR.error("Failed to perform search"))}catch(e){console.error("Search failed:",e),w({posts:[],users:[]})}finally{T(!1)}};return(0,a.useCallback)(b()(D,300),[]),(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,s.jsx)("div",{className:"lg:hidden",children:(0,s.jsx)(j.c,{})}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"hidden lg:block w-[270px] shrink-0",children:(0,s.jsx)("div",{className:"fixed top-0 left-0 w-[270px] h-screen border-r border-gray-200 dark:border-gray-800",children:(0,s.jsx)(y.B,{currentUser:R})})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("main",{className:"flex-1 min-h-screen border-r border-gray-200 dark:border-gray-800",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-6 lg:pt-8",children:[(0,s.jsxs)("div",{className:"relative mb-6",children:[(0,s.jsx)(l.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,s.jsx)(o.p,{type:"text",placeholder:"Search posts, users, or audio...",value:r,onChange:e=>t(e.target.value),className:"pl-10 h-12 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400"})]}),(0,s.jsxs)(n.tU,{defaultValue:x,onValueChange:g,children:[(0,s.jsxs)(n.j7,{className:"w-full mb-6",children:[(0,s.jsx)(n.Xi,{value:"all",className:"flex-1",children:"All"}),(0,s.jsx)(n.Xi,{value:"posts",className:"flex-1",children:"Posts"}),(0,s.jsx)(n.Xi,{value:"users",className:"flex-1",children:"Users"})]}),q?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(d.A,{className:"h-8 w-8 animate-spin text-primary"})}):""===r.trim()?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(l.A,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Start searching"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Enter a search term to find posts, users, or audio content"})]}):(0,s.jsxs)(n.av,{value:x,className:"space-y-4",children:[("users"===x||"all"===x)&&k.users.length>0&&(0,s.jsx)("div",{className:"space-y-4",children:k.users.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-white dark:bg-gray-800 rounded-lg",children:[(0,s.jsx)(f(),{href:`/profile/${e.id}`,className:"shrink-0",children:e.avatar?(0,s.jsx)("img",{src:(0,p.m_)(e.avatar),alt:e.username,className:"h-12 w-12 rounded-full object-cover"}):(0,s.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:(0,s.jsx)(c.A,{className:"h-6 w-6 text-primary"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)(f(),{href:`/profile/${e.id}`,className:"font-medium text-gray-900 dark:text-white hover:text-primary dark:hover:text-primary-400",children:e.username}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:e.bio})]}),(0,s.jsx)(f(),{href:`/profile/${e.id}`,className:"shrink-0",children:(0,s.jsx)(m.$,{variant:"outline",size:"sm",className:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"View Profile"})})]},e.id))}),("posts"===x||"all"===x)&&k.posts.length>0&&(0,s.jsx)("div",{className:"space-y-4",children:k.posts.map(e=>(0,s.jsx)(h.R,{post:e},e.id))}),0===k.posts.length&&0===k.users.length&&(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsxs)("p",{className:"text-gray-500 dark:text-gray-400",children:['No results found for "',r,'"']})})]})]})]})}),(0,s.jsx)("div",{className:"hidden lg:block w-[384px] shrink-0",children:(0,s.jsx)("div",{className:"fixed top-0 h-screen w-[384px] border-l border-gray-200 dark:border-gray-800 p-6",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[(0,s.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.A,{className:"h-5 w-5 text-primary"}),(0,s.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Trending Searches"})]})}),(0,s.jsx)("div",{className:"p-4",children:C?(0,s.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,r)=>(0,s.jsx)("div",{className:"animate-pulse",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"})},r))}):(0,s.jsx)("div",{className:"space-y-2",children:S.map((e,r)=>(0,s.jsx)("button",{onClick:()=>t(e.query),className:"w-full text-left px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-md transition-colors",children:e.query},r))})})]})})})]})})]})]})}},37658:(e,r,t)=>{"use strict";t.d(r,{p:()=>n});var s=t(45512),a=t(58009),i=t(44195);let n=a.forwardRef(({className:e,type:r,...t},a)=>(0,s.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));n.displayName="Input"},80637:(e,r,t)=>{"use strict";t.d(r,{tU:()=>S,av:()=>_,j7:()=>A,Xi:()=>R});var s=t(45512),a=t(58009),i=t(31412),n=t(6004),o=t(48305),l=t(98060),d=t(30830),c=t(59018),u=t(13024),p=t(30096),x="Tabs",[f,m]=(0,n.A)(x,[o.RG]),h=(0,o.RG)(),[v,g]=f(x),b=a.forwardRef((e,r)=>{let{__scopeTabs:t,value:a,onValueChange:i,defaultValue:n,orientation:o="horizontal",dir:l,activationMode:x="automatic",...f}=e,m=(0,c.jH)(l),[h,g]=(0,u.i)({prop:a,onChange:i,defaultProp:n});return(0,s.jsx)(v,{scope:t,baseId:(0,p.B)(),value:h,onValueChange:g,orientation:o,dir:m,activationMode:x,children:(0,s.jsx)(d.sG.div,{dir:m,"data-orientation":o,...f,ref:r})})});b.displayName=x;var y="TabsList",j=a.forwardRef((e,r)=>{let{__scopeTabs:t,loop:a=!0,...i}=e,n=g(y,t),l=h(t);return(0,s.jsx)(o.bL,{asChild:!0,...l,orientation:n.orientation,dir:n.dir,loop:a,children:(0,s.jsx)(d.sG.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:r})})});j.displayName=y;var N="TabsTrigger",k=a.forwardRef((e,r)=>{let{__scopeTabs:t,value:a,disabled:n=!1,...l}=e,c=g(N,t),u=h(t),p=T(c.baseId,a),x=C(c.baseId,a),f=a===c.value;return(0,s.jsx)(o.q7,{asChild:!0,...u,focusable:!n,active:f,children:(0,s.jsx)(d.sG.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":x,"data-state":f?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:p,...l,ref:r,onMouseDown:(0,i.m)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(a)}),onKeyDown:(0,i.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(a)}),onFocus:(0,i.m)(e.onFocus,()=>{let e="manual"!==c.activationMode;f||n||!e||c.onValueChange(a)})})})});k.displayName=N;var w="TabsContent",q=a.forwardRef((e,r)=>{let{__scopeTabs:t,value:i,forceMount:n,children:o,...c}=e,u=g(w,t),p=T(u.baseId,i),x=C(u.baseId,i),f=i===u.value,m=a.useRef(f);return a.useEffect(()=>{let e=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)(l.C,{present:n||f,children:({present:t})=>(0,s.jsx)(d.sG.div,{"data-state":f?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":p,hidden:!t,id:x,tabIndex:0,...c,ref:r,style:{...e.style,animationDuration:m.current?"0s":void 0},children:t&&o})})});function T(e,r){return`${e}-trigger-${r}`}function C(e,r){return`${e}-content-${r}`}q.displayName=w;var P=t(44195);let S=b,A=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)(j,{ref:t,className:(0,P.cn)("flex w-full border-b border-gray-200 dark:border-gray-700",e),...r}));A.displayName="TabsList";let R=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)(k,{ref:t,className:(0,P.cn)("px-4 py-2 -mb-px text-sm font-medium text-gray-500 border-b-2 border-transparent hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","data-[state=active]:text-primary-600 data-[state=active]:border-primary-600 dark:data-[state=active]:text-primary-400 dark:data-[state=active]:border-primary-400",e),...r}));R.displayName="TabsTrigger";let _=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)(q,{ref:t,className:(0,P.cn)("mt-4",e),...r}));_.displayName="TabsContent"},22524:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/tanmayarora/Desktop/testing/fixed-tanner/frontend/src/app/search/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/tanmayarora/Desktop/testing/fixed-tanner/frontend/src/app/search/page.tsx","default")},67682:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(94825).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[461,482,668,531,103,703,432,800,215,893,180,686,523],()=>t(6435));module.exports=s})();