(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5105],{14065:(e,a,r)=>{Promise.resolve().then(r.bind(r,22089))},22089:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>P});var t=r(95155),s=r(12115),i=r(99219),l=r(25683),n=r(55037),d=r(42649),c=r(48173),o=r.n(c),x=r(73312),m=r(12472),h=r(76390),g=r(77772),y=r(14145),p=r(1762),u=r(5565),f=r(22734),v=r(21567);function j(e){let{className:a,...r}=e;return(0,t.jsx)("div",{className:(0,v.cn)("animate-pulse rounded-md bg-gray-200 dark:bg-gray-800",a),...r})}let b=()=>{var e,a,r;let l=(0,s.useRef)(null),[n,d]=(0,s.useState)(null),[c,x]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{let e=await h.M.getHighlights();e.success&&e.data&&d(e.data)}catch(e){console.error("Failed to fetch highlights:",e)}finally{x(!1)}})()},[]);let m=e=>{l.current&&l.current.scrollBy({left:"left"===e?-300:300,behavior:"smooth"})},g=e=>e?e.image_url?e.image_url:e.image?e.image:e.cover_image_url?e.cover_image_url:e.author.profile_image?e.author.profile_image:e.author.avatar?e.author.avatar:"/images/placeholder.jpg":"/images/placeholder.jpg",y=n?[{id:1,title:"Latest News",post:n.latest_news,link:"/posts/".concat(null===(e=n.latest_news)||void 0===e?void 0:e.id)},{id:2,title:"Trending Audio",post:n.trending_audio,link:"/posts/".concat(null===(a=n.trending_audio)||void 0===a?void 0:a.id)},{id:3,title:"Featured Post",post:n.featured_post,link:"/posts/".concat(null===(r=n.featured_post)||void 0===r?void 0:r.id)}]:[];return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4 px-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Highlights"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>m("left"),className:"p-2 rounded-full bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700",children:(0,t.jsx)(f.Y5o,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>m("right"),className:"p-2 rounded-full bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700",children:(0,t.jsx)(f.xyO,{className:"w-5 h-5"})})]})]}),(0,t.jsx)("div",{ref:l,className:"flex gap-4 overflow-x-auto scrollbar-hide px-4 pb-4",children:c?[,,,].fill(0).map((e,a)=>(0,t.jsx)("div",{className:"flex-shrink-0 relative w-60 h-32",children:(0,t.jsx)(j,{className:"w-full h-full rounded-xl"})},a)):y.map(e=>e.post&&(0,t.jsx)(i.P.div,{whileHover:{scale:1.05},className:"flex-shrink-0 relative w-60 h-32 rounded-xl overflow-hidden",children:(0,t.jsx)(o(),{href:e.link,children:(0,t.jsxs)("div",{className:"relative w-full h-full",children:[(0,t.jsx)(u.default,{src:g(e.post),alt:e.post.title,fill:!0,className:"object-cover"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:("Latest News"===e.title||"Trending Audio"===e.title)&&(0,t.jsx)("h3",{className:"text-white font-semibold text-lg",children:e.title})})]})})},e.id))})]})};var N=r(13261);let k=()=>(0,t.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center p-8 bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[(0,t.jsx)(i.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:(0,t.jsx)(N.A,{className:"w-16 h-16 text-primary-500 mb-4"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"You're All Caught Up!"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-center",children:"You've seen all the latest posts. Check back later for more updates!"})]});var w=r(41240),_=r(47273);function P(){let[e,a]=(0,s.useState)(!0),[r,c]=(0,s.useState)(null),[u,f]=(0,s.useState)([]),[v,j]=(0,s.useState)(!0),[N,P]=(0,s.useState)([]),[A,C]=(0,s.useState)(!0),[S,E]=(0,s.useState)(1),[F,L]=(0,s.useState)(!0);(0,s.useEffect)(()=>{z(),R(),$()},[]);let z=async()=>{try{let e=await d.i$.getProfile();e.success&&c(e.data)}catch(e){console.error("Error loading profile:",e),n.oR.error("Failed to load profile")}finally{a(!1)}},R=async()=>{try{j(!0);let e=await d.i$.getSuggestions();e.success&&f(e.data)}catch(e){console.error("Failed to load suggestions:",e)}finally{j(!1)}},$=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{C(!0);let a=await h.M.getFeed(e);if(a.success&&a.data){let{results:r,next:t}=a.data;Array.isArray(r)?(1===e?P(r):P(e=>[...e,...r]),L(!!t),E(e)):(P([]),L(!1))}else n.oR.error("Failed to load posts"),P([])}catch(e){console.error("Error loading posts:",e),n.oR.error("Failed to load posts"),P([])}finally{C(!1)}},M=e=>{P(a=>a.map(a=>a.id===e.id?e:a))};return e?(0,t.jsx)("div",{className:"flex h-screen items-center justify-center bg-white dark:bg-gray-900",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(w.A,{className:"h-8 w-8 animate-spin text-primary-500 dark:text-primary-400 mx-auto"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Loading your feed..."})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"hidden lg:block lg:w-64 fixed inset-y-0",children:(0,t.jsx)(g.B,{currentUser:r})}),(0,t.jsx)("div",{className:"lg:hidden fixed top-0 inset-x-0 z-30",children:(0,t.jsx)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200 dark:border-gray-800",children:(0,t.jsx)("div",{className:"px-4 h-16 flex items-center justify-between",children:(0,t.jsx)("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-600 to-primary-400",children:"Neuhu"})})})}),(0,t.jsx)("main",{className:"flex-1 lg:pl-64",children:(0,t.jsx)("div",{className:"min-h-screen pt-16 lg:pt-0",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 xl:col-span-3 space-y-6",children:[(0,t.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:(0,t.jsx)(b,{})}),A&&1===S?(0,t.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,t.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*e},className:"bg-white dark:bg-gray-800 rounded-xl h-64 animate-pulse"},e))}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.N,{mode:"popLayout",children:N.map((e,a)=>(0,t.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.1*a},children:(0,t.jsx)(p.R,{post:e,onPostUpdate:M})},e.id))}),(F||A)&&(0,t.jsx)("div",{className:"flex justify-center py-6",children:(0,t.jsx)(x.$,{variant:"outline",onClick:()=>{!A&&F&&$(S+1)},disabled:A,className:"min-w-[120px]",children:A?(0,t.jsx)(w.A,{className:"h-4 w-4 animate-spin"}):"Load More"})}),!F&&N.length>0&&(0,t.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:(0,t.jsx)(k,{})})]})]}),(0,t.jsx)("div",{className:"hidden lg:block space-y-6",children:(0,t.jsxs)("div",{className:"sticky top-8",children:[(0,t.jsxs)(i.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Trending Topics"})}),(0,t.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:_.ic.map((e,a)=>(0,t.jsx)(i.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1*a},className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-".concat(e.color,"-100 dark:bg-").concat(e.color,"-900/20 flex items-center justify-center"),children:(0,t.jsxs)("span",{className:"text-xs font-medium text-".concat(e.color,"-600 dark:text-").concat(e.color,"-400"),children:["#",e.id]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.postCount.toLocaleString()," posts"]})]})]})},e.id))})]}),(0,t.jsxs)(i.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"mt-6 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Suggested Users"})}),v?(0,t.jsx)("div",{className:"p-4 space-y-4",children:[void 0,void 0,void 0].map((e,a)=>(0,t.jsxs)("div",{className:"animate-pulse flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-32 mt-2"})]})]},a))}):0===u.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(m.A,{className:"h-12 w-12 mx-auto text-gray-400 dark:text-gray-600"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"No suggestions available"})]}):(0,t.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:u.map((e,a)=>(0,t.jsxs)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*a},className:"flex items-center gap-3 p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[(0,t.jsx)(o(),{href:"/profile/".concat(e.id),className:"shrink-0",children:e.avatar?(0,t.jsx)("img",{src:e.avatar,alt:e.username,className:"w-10 h-10 rounded-full object-cover"}):(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(m.A,{className:"w-5 h-5 text-primary"})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)(o(),{href:"/profile/".concat(e.id),className:"font-medium text-gray-900 dark:text-white hover:text-primary dark:hover:text-primary-400 truncate block",children:e.username}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[e.first_name&&e.last_name?(0,t.jsx)("span",{className:"truncate",children:"".concat(e.first_name," ").concat(e.last_name)}):(0,t.jsx)("span",{className:"truncate",children:e.email}),e.bio&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-gray-300 dark:text-gray-700",children:"•"}),(0,t.jsx)("span",{className:"truncate",children:e.bio})]})]})]}),(0,t.jsx)(o(),{href:"/profile/".concat(e.id),className:"shrink-0",children:(0,t.jsx)(x.$,{variant:"outline",size:"sm",className:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"View Profile"})})]},e.id))})]})]})})]})})})}),(0,t.jsx)("div",{className:"lg:hidden",children:(0,t.jsx)(y.c,{})})]})})}},14145:(e,a,r)=>{"use strict";r.d(a,{c:()=>g});var t=r(95155),s=r(48173),i=r.n(s),l=r(76046),n=r(99219),d=r(87493),c=r(62591),o=r(51567),x=r(46822),m=r(12472);let h=[{name:"Home",href:"/dashboard",icon:d.A,color:"text-blue-500"},{name:"Explore",href:"/search",icon:c.A,color:"text-green-500"},{name:"Create",href:"/create",icon:o.A,color:"text-purple-500"},{name:"Messages",href:"/messages",icon:x.A,color:"text-pink-500"},{name:"Profile",href:"/profile",icon:m.A,color:"text-indigo-500"}];function g(){let e=(0,l.usePathname)();return(0,t.jsxs)("div",{className:"fixed bottom-0 inset-x-0 z-50",children:[(0,t.jsx)("div",{className:"h-[1px] bg-gradient-to-r from-transparent via-gray-200 dark:via-gray-700 to-transparent"}),(0,t.jsx)("nav",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-t border-gray-200 dark:border-gray-800",children:(0,t.jsx)("div",{className:"max-w-screen-xl mx-auto",children:(0,t.jsx)("div",{className:"flex items-center justify-around px-4 py-2",children:h.map(a=>{let r=e===a.href;return(0,t.jsx)(i(),{href:a.href,className:"relative py-2 px-3",children:(0,t.jsxs)(n.P.div,{className:"flex flex-col items-center",whileTap:{scale:.9},children:[(0,t.jsxs)("div",{className:"\n                      relative p-1.5 rounded-xl\n                      ".concat(r?"text-primary-500 dark:text-primary-400":"text-gray-500 dark:text-gray-400","\n                    "),children:[(0,t.jsx)(a.icon,{className:"\n                        h-6 w-6 transition-colors\n                        ".concat(r?a.color:"current","\n                      ")}),r&&(0,t.jsx)(n.P.div,{className:"absolute inset-0 bg-primary-100 dark:bg-primary-900/20 rounded-xl -z-10",layoutId:"nav-pill",transition:{type:"spring",duration:.5}})]}),(0,t.jsx)("span",{className:"\n                      text-xs mt-1 transition-colors\n                      ".concat(r?"font-medium text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400","\n                    "),children:a.name})]})},a.name)})})})})]})}},77772:(e,a,r)=>{"use strict";r.d(a,{B:()=>N});var t=r(95155),s=r(76046),i=r(48173),l=r.n(i),n=r(12115),d=r(99219),c=r(87493),o=r(62591),x=r(51567),m=r(46822),h=r(67746),g=r(12472),y=r(53474),p=r(21354),u=r(73312),f=r(42649),v=r(55037),j=r(5565);let b=[{name:"Home",href:"/dashboard",icon:c.A,color:"text-blue-500 dark:text-blue-400"},{name:"Explore",href:"/search",icon:o.A,color:"text-green-500 dark:text-green-400"},{name:"Create",href:"/create",icon:x.A,color:"text-purple-500 dark:text-purple-400"},{name:"Messages",href:"/messages",icon:m.A,color:"text-pink-500 dark:text-pink-400"},{name:"Notifications",href:"/notifications",icon:h.A,color:"text-yellow-500 dark:text-yellow-400"},{name:"Profile",href:"/profile",icon:g.A,color:"text-gray-500 dark:text-gray-400"}];function N(e){let{currentUser:a}=e,r=(0,s.useRouter)(),i=(0,s.usePathname)(),[c,o]=(0,n.useState)(!1);(0,n.useEffect)(()=>{o(!0),x()},[]);let x=async()=>{try{(await f.i$.getProfile()).success}catch(e){console.error("Error loading profile:",e)}},m=async()=>{try{await f.ZQ.logout(),localStorage.clear(),v.oR.success("Logged out successfully"),r.push("/auth/login")}catch(e){console.error("Logout error:",e),localStorage.clear(),r.push("/auth/login")}};return c?(0,t.jsxs)("div",{className:"flex h-full flex-col bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800",children:[(0,t.jsx)("div",{className:"flex h-16 items-center px-6 border-b border-gray-200 dark:border-gray-800",children:(0,t.jsx)(l(),{href:"/dashboard",className:"flex items-center",children:(0,t.jsx)(d.P.span,{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-primary-400 bg-clip-text text-transparent",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:"Neuhu"})})}),(0,t.jsx)("nav",{className:"flex-1 space-y-1 p-4 overflow-y-auto",children:b.map((e,a)=>{let r=i===e.href;return(0,t.jsx)(d.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*a,duration:.2},children:(0,t.jsx)(l(),{href:e.href,children:(0,t.jsxs)("div",{className:"\n                  relative flex items-center px-4 py-2.5 rounded-xl transition-all\n                  ".concat(r?"text-primary-500 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800","\n                "),children:[(0,t.jsx)(e.icon,{className:"h-5 w-5 ".concat(e.color)}),(0,t.jsx)("span",{className:"ml-3 font-medium",children:e.name}),r&&(0,t.jsx)(d.P.div,{layoutId:"sidebar-active",className:"absolute left-0 w-1 inset-y-1 bg-primary-500 dark:bg-primary-400 rounded-full",transition:{type:"spring",stiffness:300,damping:30}})]})})},e.href)})}),(0,t.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-4",children:[a&&(0,t.jsx)(l(),{href:"/profile",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors group",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("div",{className:"h-10 w-10 rounded-full overflow-hidden ring-2 ring-offset-2 ring-transparent group-hover:ring-primary-500/20 dark:ring-offset-gray-900 transition-all",children:a.avatar_url?(0,t.jsx)("div",{className:"relative h-full w-full",children:(0,t.jsx)(j.default,{src:(0,f.m_)(a.avatar_url),alt:"".concat(a.first_name," ").concat(a.last_name),fill:!0,className:"object-cover rounded-full transition-transform duration-300 group-hover:scale-110",sizes:"40px"})}):(0,t.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:(0,t.jsx)(g.A,{className:"h-5 w-5 text-gray-400"})})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:"".concat(a.first_name," ").concat(a.last_name)}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["@",a.username]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsx)(u.$,{variant:"ghost",size:"icon",className:"rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800",children:(0,t.jsx)(l(),{href:"/profile/edit",children:(0,t.jsx)(y.A,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})}),(0,t.jsx)(u.$,{variant:"ghost",size:"icon",onClick:m,className:"rounded-xl text-red-500 hover:bg-red-50 hover:text-red-600 dark:text-red-400 dark:hover:bg-red-900/20",children:(0,t.jsx)(p.A,{className:"h-5 w-5"})})]})]})})]}):null}},47273:(e,a,r)=>{"use strict";r.d(a,{ic:()=>t});let t=[{id:"1",name:"Web Development",postCount:2453,color:"blue"},{id:"2",name:"Machine Learning",postCount:1832,color:"purple"},{id:"3",name:"DevOps",postCount:1654,color:"green"},{id:"4",name:"Cybersecurity",postCount:1243,color:"red"},{id:"5",name:"Blockchain",postCount:986,color:"orange"}]}},e=>{var a=a=>e(e.s=a);e.O(0,[8087,4129,9219,2651,5037,5565,8173,4974,1217,624,8343,8222,8375,1447,789,1762,8441,1517,7358],()=>a(14065)),_N_E=e.O()}]);