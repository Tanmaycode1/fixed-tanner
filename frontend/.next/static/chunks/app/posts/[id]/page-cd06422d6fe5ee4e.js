(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3880],{34858:(e,s,a)=>{Promise.resolve().then(a.bind(a,77317))},77317:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var l=a(95155),t=a(76046),r=a(1762),o=a(73312),c=a(41598),i=a(22783),n=a(12115),d=a(76390),u=a(55037),x=a(42649);function m(){let e=(0,t.useParams)(),s=(0,t.useRouter)(),a=e.id,[m,h]=(0,n.useState)(null),[p,b]=(0,n.useState)(!0),[f,k]=(0,n.useState)(null),[v,g]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=async()=>{try{b(!0);let e=await d.M.getPost(a);e.success&&e.data?h(e.data):(k(e.error||"Failed to load post"),u.oR.error(e.error||"Failed to load post"))}catch(e){console.error("Error fetching post:",e),k("Failed to load post"),u.oR.error("Failed to load post")}finally{b(!1)}};a&&e()},[a]);let w=async()=>{var e;if(null==m?void 0:null===(e=m.author)||void 0===e?void 0:e.id)try{(await x.i$[v?"unfollowUser":"followUser"](m.author.id)).success&&(g(!v),u.oR.success(v?"Unfollowed":"Following"))}catch(e){u.oR.error("Failed to update follow status")}};return(0,l.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,l.jsx)("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b",children:(0,l.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"py-4 flex items-center",children:[(0,l.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>s.back(),children:(0,l.jsx)(c.A,{className:"h-5 w-5"})}),(0,l.jsx)("h1",{className:"ml-4 text-lg font-semibold",children:"Post"}),(0,l.jsx)(o.$,{variant:"default",size:"sm",className:"bg-black hover:bg-black/90 text-white",onClick:w,children:v?"Following":"Follow"})]})})}),(0,l.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:p?(0,l.jsx)("div",{className:"flex items-center justify-center min-h-[200px]",children:(0,l.jsx)(i.A,{className:"h-8 w-8 animate-spin text-primary"})}):f?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("p",{className:"text-muted-foreground",children:f}),(0,l.jsx)(o.$,{variant:"link",onClick:()=>s.back(),className:"mt-4",children:"Go back"})]}):m?(0,l.jsx)(r.R,{post:m,expanded:!0}):null})]})}},41598:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(14057).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[4129,9219,2651,5037,5565,4974,1217,624,8343,8222,8375,789,1762,8441,1517,7358],()=>s(34858)),_N_E=e.O()}]);