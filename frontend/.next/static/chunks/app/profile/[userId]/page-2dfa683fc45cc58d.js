(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6519],{94551:(e,a,s)=>{Promise.resolve().then(s.bind(s,5819))},5819:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>f});var l=s(95155),t=s(12115),r=s(99219),i=s(55037),o=s(42649),n=s(22783),c=s(12472),d=s(11941),m=s(2857),x=s(5565);function u(e){var a,s;let{profile:t,onFollowersClick:i,onFollowingClick:o,onFollowChange:n,isPublicProfile:u,children:h}=e;return(0,l.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:gap-6",children:[(0,l.jsx)("div",{className:"flex flex-col items-center sm:items-start w-full sm:w-auto",children:(0,l.jsx)(r.P.div,{className:"relative shrink-0 mb-4 sm:mb-0",whileHover:{scale:1.05},transition:{duration:.2},children:t.avatar_url?(0,l.jsx)("div",{className:"relative w-24 h-24 sm:w-32 sm:h-32",children:(0,l.jsx)(x.default,{src:t.avatar_url,alt:t.username,fill:!0,className:"rounded-full object-cover ring-4 ring-gray-50 dark:ring-gray-800",sizes:"(max-width: 640px) 96px, 128px"})}):(0,l.jsx)("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full bg-primary/10 flex items-center justify-center ring-4 ring-gray-50 dark:ring-gray-800",children:(0,l.jsx)(c.A,{className:"h-12 w-12 sm:h-16 sm:w-16 text-primary"})})})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center sm:justify-between gap-3",children:[(0,l.jsx)(r.P.h1,{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",whileHover:{scale:1.02},transition:{duration:.2},children:t.username}),(0,l.jsx)("div",{className:"hidden sm:block",children:(0,l.jsx)(r.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,l.jsx)(d.W,{userId:t.id,username:t.username,isFollowing:null!==(a=t.is_followed)&&void 0!==a&&a,onFollowChange:null!=n?n:()=>{},className:"w-32 bg-primary hover:bg-primary/90 text-white shadow-lg rounded-full"})})})]}),(0,l.jsx)("div",{className:"flex justify-center sm:hidden mt-2",children:(0,l.jsx)(r.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,l.jsx)(d.W,{userId:t.id,username:t.username,isFollowing:null!==(s=t.is_followed)&&void 0!==s&&s,onFollowChange:null!=n?n:()=>{},className:"w-28 bg-primary hover:bg-primary/90 text-white shadow-lg rounded-full"})})}),t.first_name&&t.last_name&&(0,l.jsx)(r.P.h2,{className:"text-base font-medium text-gray-900 dark:text-white mb-1 text-center sm:text-left mt-2",whileHover:{scale:1.02},transition:{duration:.2},children:"".concat(t.first_name," ").concat(t.last_name)}),t.bio&&(0,l.jsx)(r.P.p,{className:"text-gray-600 dark:text-gray-400 max-w-2xl whitespace-pre-line text-center sm:text-left mt-1",whileHover:{scale:1.01},transition:{duration:.2},children:t.bio}),(0,l.jsx)("div",{className:"flex justify-center sm:justify-start mt-4",children:(0,l.jsx)(m.P,{postCount:t.post_count||0,followerCount:t.follower_count,followingCount:t.following_count,onFollowersClick:i,onFollowingClick:o,isPublicProfile:u})}),h]})]})})})}var h=s(1762),y=s(48173),g=s.n(y),v=s(76046);function p(e){let{userId:a}=e,[s,c]=(0,t.useState)(null),[m,y]=(0,t.useState)([]),[v,p]=(0,t.useState)([]),[f,j]=(0,t.useState)(!0),[w,b]=(0,t.useState)(!0),[N,k]=(0,t.useState)(!0),[P,F]=(0,t.useState)("all"),_=(0,t.useCallback)(async()=>{try{let e=await o.i$.getUserProfile(a);e.success?c(e.data):i.oR.error("Failed to load profile")}catch(e){console.error("Error loading profile:",e),i.oR.error("Failed to load profile")}finally{j(!1)}},[a]),C=(0,t.useCallback)(async e=>{try{var s;b(!0);let l=await o.M5.getUserPosts(a,e);l.success&&(null===(s=l.data)||void 0===s?void 0:s.results)&&y(l.data.results)}catch(e){console.error("Error loading posts:",e),i.oR.error("Failed to load posts")}finally{b(!1)}},[a]),U=async()=>{try{k(!0);let e=await o.i$.getSuggestions();e.success&&p(e.data)}catch(e){console.error("Failed to load suggestions:",e)}finally{k(!1)}};(0,t.useEffect)(()=>{a&&(_(),U())},[a,_,U]),(0,t.useEffect)(()=>{a&&C("all"===P?void 0:P.toUpperCase())},[a,P,C]);let H=async e=>{s&&c(a=>a?{...a,is_followed:e,followers_count:e?a.follower_count+1:a.follower_count-1}:null)};return f?(0,l.jsx)("div",{className:"flex items-center justify-center min-h-[80vh]",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(n.A,{className:"h-8 w-8 animate-spin text-primary mx-auto"}),(0,l.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading profile..."})]})}):s?(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,l.jsx)(u,{profile:s,onFollowChange:H,onFollowersClick:()=>{},onFollowingClick:()=>{},isPublicProfile:!0,showEditButton:!1}),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto pb-20",children:[(0,l.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,l.jsx)("div",{className:"flex justify-center sm:justify-start px-4",children:["all","news","audio"].map(e=>(0,l.jsxs)(r.P.button,{onClick:()=>F(e),className:"px-6 py-4 text-sm font-medium relative ".concat(P===e?"text-primary":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),whileHover:{scale:1.05},transition:{duration:.2},children:["all"===e?"All Posts":e.charAt(0).toUpperCase()+e.slice(1),P===e&&(0,l.jsx)(r.P.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]},e))})}),(0,l.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8",children:[(0,l.jsx)("div",{className:"lg:col-span-2 space-y-6",children:w?(0,l.jsx)("div",{className:"space-y-6",children:[void 0,void 0,void 0].map((e,a)=>(0,l.jsxs)(r.P.div,{className:"animate-pulse",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*a},children:[(0,l.jsx)("div",{className:"h-48 bg-gray-200 dark:bg-gray-700 rounded-xl mb-4"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),(0,l.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]},a))}):0===m.length?(0,l.jsx)(r.P.div,{className:"text-center py-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,l.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"all"===P?"No posts yet":"No ".concat(P," posts yet")})}):(0,l.jsx)("div",{className:"space-y-6",children:m.map((e,a)=>(0,l.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*a},children:(0,l.jsx)(h.R,{post:e,onPostUpdate:e=>{y(a=>a.map(a=>a.id===e.id?e:a))}})},e.id))})}),(0,l.jsx)("div",{className:"hidden lg:block",children:(0,l.jsxs)(r.P.div,{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[(0,l.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Suggested for you"})}),(0,l.jsx)("div",{className:"p-4",children:N?(0,l.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,a)=>(0,l.jsxs)(r.P.div,{className:"animate-pulse flex items-center gap-3",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.1*a},children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24 mb-2"}),(0,l.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-32"})]}),(0,l.jsx)("div",{className:"w-16 h-8 bg-gray-200 dark:bg-gray-700 rounded"})]},a))}):0===v.length?(0,l.jsx)(r.P.p,{className:"text-center text-gray-500 dark:text-gray-400 py-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:"No suggestions available"}):(0,l.jsx)("div",{className:"space-y-4",children:v.map((e,a)=>(0,l.jsxs)(r.P.div,{className:"flex items-center justify-between",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.1*a},whileHover:{scale:1.02},children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(g(),{href:"/profile/".concat(e.id),className:"shrink-0",children:(0,l.jsx)(r.P.div,{className:"relative h-10 w-10 rounded-full overflow-hidden",whileHover:{scale:1.05},children:e.avatar&&(0,l.jsx)(x.default,{src:(0,o.m_)(e.avatar),alt:e.username,fill:!0,className:"object-cover"})})}),(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsx)(g(),{href:"/profile/".concat(e.id),className:"font-medium text-sm text-gray-900 dark:text-white hover:text-primary dark:hover:text-primary-400 truncate block",children:e.username}),(0,l.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:"Suggested for you"})]})]}),(0,l.jsx)(r.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,l.jsx)(d.W,{userId:e.id,username:e.username,isFollowing:e.is_followed,onFollowChange:a=>{p(s=>s.map(s=>s.id===e.id?{...s,is_followed:a}:s))},variant:"ghost",size:"sm"})})]},e.id))})})]})})]})})]})]}):(0,l.jsx)("div",{className:"flex items-center justify-center min-h-[80vh]",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"Profile not found"}),(0,l.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Unable to load profile information"})]})})}function f(){let e=(0,v.useParams)();return(0,l.jsx)(p,{userId:e.userId})}},2857:(e,a,s)=>{"use strict";s.d(a,{P:()=>t});var l=s(95155);function t(e){let{postCount:a,followerCount:s,followingCount:t,onFollowersClick:r,onFollowingClick:i,isPublicProfile:o=!1}=e,n=e=>{let{label:a,value:s,onClick:t}=e;return(0,l.jsxs)("div",{className:"flex flex-col items-center ".concat(!o&&t?"cursor-pointer hover:opacity-75":""),onClick:!o&&t?t:void 0,children:[(0,l.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:s}),(0,l.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:a})]})};return(0,l.jsxs)("div",{className:"flex gap-8",children:[(0,l.jsx)(n,{label:"Posts",value:a}),(0,l.jsx)(n,{label:"Followers",value:s,onClick:o?void 0:r}),(0,l.jsx)(n,{label:"Following",value:t,onClick:o?void 0:i})]})}},11941:(e,a,s)=>{"use strict";s.d(a,{W:()=>x});var l=s(95155),t=s(12115),r=s(73312),i=s(42649),o=s(55037),n=s(22783);let c=(0,s(14057).A)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var d=s(24659),m=s(21567);function x(e){let{userId:a,username:s,isFollowing:x,onFollowChange:u,size:h="sm",variant:y="outline",className:g="",...v}=e,[p,f]=(0,t.useState)(!1),[j,w]=(0,t.useState)(x),b=async e=>{if(e.preventDefault(),e.stopPropagation(),!p){f(!0);try{let e=j?await i.i$.unfollowUser(a):await i.i$.followUser(a);if(!(null==e?void 0:e.success))throw Error((null==e?void 0:e.message)||"Failed to update follow status");w(!j),u(!j),o.oR.success(j?"Unfollowed ".concat(s):"Following ".concat(s))}catch(e){console.error("Follow action failed:",e),w(j),o.oR.error(j?"Failed to unfollow ".concat(s):"Failed to follow ".concat(s))}finally{f(!1)}}};return(0,l.jsx)(r.$,{type:"button",size:h,variant:y,onClick:b,disabled:p,className:(0,m.cn)("flex items-center gap-1.5",j?"bg-primary hover:bg-primary/90 text-primary-foreground":"ghost"===y?"hover:bg-muted":"bg-primary hover:bg-primary/90 text-primary-foreground",g),...v,children:p?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.A,{className:"w-4 h-4 animate-spin"}),(0,l.jsx)("span",{children:j?"Unfollowing...":"Following..."})]}):j?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:"Unfollow"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.A,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:"Follow"})]})})}},24659:(e,a,s)=>{"use strict";s.d(a,{A:()=>l});let l=(0,s(14057).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},12472:(e,a,s)=>{"use strict";s.d(a,{A:()=>l});let l=(0,s(14057).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[4129,9219,2651,5037,5565,8173,4974,1217,624,8343,8222,8375,789,1762,8441,1517,7358],()=>a(94551)),_N_E=e.O()}]);