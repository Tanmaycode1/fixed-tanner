(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{6894:(e,a,s)=>{Promise.resolve().then(s.bind(s,66066))},66066:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>k});var r=s(95155),t=s(12115),l=s(99219),i=s(55037),o=s(42649),n=s(41240);let d=(0,s(14057).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var c=s(48173),x=s.n(c),m=s(12472),h=s(73312),g=s(11941),y=s(2857),u=s(5565);function p(e){let{profile:a,onFollowersClick:s,onFollowingClick:t,isPublicProfile:l=!1,showEditButton:i=!0,children:o}=e;return(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:gap-6",children:[(0,r.jsx)("div",{className:"flex flex-col items-center sm:items-start w-full sm:w-auto",children:(0,r.jsx)("div",{className:"relative shrink-0 mb-4 sm:mb-0",children:a.avatar_url?(0,r.jsx)("div",{className:"relative w-24 h-24 sm:w-32 sm:h-32",children:(0,r.jsx)(u.default,{src:a.avatar_url,alt:a.username,fill:!0,className:"rounded-full object-cover ring-4 ring-gray-50 dark:ring-gray-800",sizes:"(max-width: 640px) 96px, 128px"})}):(0,r.jsx)("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full bg-primary/10 flex items-center justify-center ring-4 ring-gray-50 dark:ring-gray-800",children:(0,r.jsx)(m.A,{className:"h-12 w-12 sm:h-16 sm:w-16 text-primary"})})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center sm:justify-between gap-3",children:[(0,r.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:a.username}),(0,r.jsx)("div",{className:"sm:hidden",children:i&&!l&&(0,r.jsx)(x(),{href:"/profile/edit",className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:(0,r.jsx)(d,{className:"h-4 w-4"})})}),(0,r.jsx)("div",{className:"hidden sm:block",children:o})]}),a.first_name&&a.last_name&&(0,r.jsx)("h2",{className:"text-base font-medium text-gray-900 dark:text-white mb-1 text-center sm:text-left mt-2",children:"".concat(a.first_name," ").concat(a.last_name)}),a.bio&&(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl whitespace-pre-line text-center sm:text-left mt-1",children:a.bio}),(0,r.jsx)("div",{className:"flex justify-center sm:justify-start mt-4",children:(0,r.jsx)(y.P,{postCount:a.post_count||0,followerCount:a.follower_count,followingCount:a.following_count,onFollowersClick:l?void 0:s,onFollowingClick:l?void 0:t,isPublicProfile:l})})]})]})})})}var v=s(1762),f=s(51344),j=s(689),w=s(22783);function N(e){let{isOpen:a,onClose:s,type:t,users:l,loading:o,onFollowChange:n}=e,d=async()=>{try{n&&await n()}catch(e){console.error("Error updating follow status:",e),i.oR.error("Failed to update follow status")}};return(0,r.jsx)(f.lG,{open:a,onOpenChange:s,children:(0,r.jsx)(f.Cf,{className:"sm:max-w-lg p-0 gap-0 h-[100dvh] sm:h-auto w-full sm:w-auto sm:rounded-lg bg-white dark:bg-gray-900",children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)(f.c7,{className:"px-4 sm:px-6 py-4 border-b border-gray-200 dark:border-gray-800 sticky top-0 bg-white dark:bg-gray-900 z-10",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(h.$,{variant:"ghost",size:"icon",className:"sm:hidden h-8 w-8 p-0 mr-2 hover:bg-gray-100 dark:hover:bg-gray-800",onClick:s,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 text-gray-500 dark:text-gray-400",children:(0,r.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})})}),(0,r.jsx)(f.L3,{className:"text-xl font-semibold text-gray-900 dark:text-white flex-1",children:"followers"===t?"Followers":"Following"}),(0,r.jsx)(h.$,{variant:"ghost",size:"icon",className:"hidden sm:flex h-8 w-8 p-0 hover:bg-gray-100 dark:hover:bg-gray-800",onClick:s,children:(0,r.jsx)(j.A,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"})})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto bg-white dark:bg-gray-900",children:o?(0,r.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,r.jsx)(w.A,{className:"h-6 w-6 animate-spin text-primary"})}):0===l.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(m.A,{className:"h-12 w-12 mx-auto text-gray-400 dark:text-gray-600"}),(0,r.jsxs)("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:["No ",t," yet"]})]}):(0,r.jsx)("div",{className:"p-4 sm:p-6 space-y-4",children:l.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[(0,r.jsx)(x(),{href:"/profile/".concat(e.id),className:"shrink-0",children:e.avatar?(0,r.jsx)("div",{className:"relative h-12 w-12",children:(0,r.jsx)(u.default,{src:e.avatar,alt:e.username,fill:!0,className:"rounded-full object-cover",sizes:"48px"})}):(0,r.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:(0,r.jsx)(m.A,{className:"h-6 w-6 text-primary"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)(x(),{href:"/profile/".concat(e.id),className:"font-medium text-gray-900 dark:text-white hover:text-primary dark:hover:text-primary-400 truncate block",children:e.username}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[e.first_name&&e.last_name?(0,r.jsx)("span",{className:"truncate",children:"".concat(e.first_name," ").concat(e.last_name)}):(0,r.jsx)("span",{className:"truncate",children:e.email}),e.bio&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-300 dark:text-gray-700",children:"â€¢"}),(0,r.jsx)("span",{className:"truncate",children:e.bio})]})]})]}),(0,r.jsx)(g.W,{userId:e.id,username:e.username,isFollowing:"following"===t||e.is_followed,onFollowChange:d,className:"shrink-0"})]},e.id))})})]})})})}var b=s(76390);function k(){let[e,a]=(0,t.useState)(null),[s,c]=(0,t.useState)(!0),[y,u]=(0,t.useState)("all"),[f,j]=(0,t.useState)([]),[w,k]=(0,t.useState)(!0),[F,C]=(0,t.useState)(!1),[_,A]=(0,t.useState)(!1),[S,P]=(0,t.useState)([]),[M,U]=(0,t.useState)([]),[R,$]=(0,t.useState)(!1),[E,z]=(0,t.useState)(!1),[I,O]=(0,t.useState)([]),[H,L]=(0,t.useState)([]),[W,q]=(0,t.useState)(!0);(0,t.useEffect)(()=>{T(),D(),X(),J()},[]);let T=async()=>{try{let e=await o.i$.getProfile();e.success?a(e.data):i.oR.error("Failed to load profile")}catch(e){console.error("Error loading profile:",e),i.oR.error("Failed to load profile")}finally{c(!1)}},D=async()=>{try{k(!0);let e=await o.i$.getSuggestions();e.success&&j(e.data)}catch(e){console.error("Failed to load suggestions:",e)}finally{k(!1)}},B=async()=>{try{var e;$(!0);let a=await o.i$.getFollowers();(null==a?void 0:a.success)&&(null===(e=a.data)||void 0===e?void 0:e.results)?P(a.data.results):i.oR.error("Failed to load followers")}catch(e){console.error("Failed to load followers:",e),i.oR.error("Failed to load followers")}finally{$(!1)}},G=async()=>{try{var e;z(!0);let a=await o.i$.getFollowing();(null==a?void 0:a.success)&&(null===(e=a.data)||void 0===e?void 0:e.results)?U(a.data.results):i.oR.error("Failed to load following")}catch(e){console.error("Failed to load following:",e),i.oR.error("Failed to load following")}finally{z(!1)}},X=async()=>{try{let e=await o.i$.getFollowing();if(null==e?void 0:e.success){let a=e.data.results.map(e=>e.id);O(a)}}catch(e){console.error("Failed to load following list:",e)}},J=async()=>{try{var e;q(!0);let a=await b.M.getMyPosts();a.success&&(null===(e=a.data)||void 0===e?void 0:e.results)?L(a.data.results):i.oR.error("Failed to load posts")}catch(e){console.error("Error loading posts:",e),i.oR.error("Failed to load posts")}finally{q(!1)}},K=H.filter(e=>"all"===y||("news"===y?"NEWS"===e.type:"audio"!==y||"AUDIO"===e.type));return s?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[80vh]",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(n.A,{className:"h-8 w-8 animate-spin text-primary-500 dark:text-primary-400 mx-auto"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Loading profile..."})]})}):e?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,r.jsxs)("div",{className:"max-w-7xl mx-auto pb-20",children:[(0,r.jsx)(p,{profile:e,onFollowersClick:()=>{B(),C(!0)},onFollowingClick:()=>{G(),A(!0)},children:(0,r.jsx)(x(),{href:"/profile/edit",children:(0,r.jsxs)(h.$,{size:"sm",variant:"outline",className:"hidden sm:flex items-center gap-2 bg-black dark:bg-primary hover:bg-black/90 dark:hover:bg-primary/90 text-white border-none",children:[(0,r.jsx)(d,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Edit Profile"})]})})}),(0,r.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsxs)("div",{className:"flex gap-4 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("button",{onClick:()=>u("all"),className:"pb-4 px-2 text-sm font-medium transition-colors relative ".concat("all"===y?"text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300"),children:["All Posts","all"===y&&(0,r.jsx)(l.P.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-500"})]}),(0,r.jsxs)("button",{onClick:()=>u("news"),className:"pb-4 px-2 text-sm font-medium transition-colors relative ".concat("news"===y?"text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300"),children:["News","news"===y&&(0,r.jsx)(l.P.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-500"})]}),(0,r.jsxs)("button",{onClick:()=>u("audio"),className:"pb-4 px-2 text-sm font-medium transition-colors relative ".concat("audio"===y?"text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300"),children:["Audio","audio"===y&&(0,r.jsx)(l.P.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-500"})]})]}),(0,r.jsx)("div",{className:"space-y-6",children:W?(0,r.jsx)("div",{className:"space-y-6",children:[void 0,void 0,void 0].map((e,a)=>(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-48 bg-gray-200 dark:bg-gray-700 rounded-xl mb-4"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]},a))}):0===K.length?(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"all"===y?"No posts yet":"news"===y?"No news posts yet":"No audio posts yet"})}):K.map(e=>(0,r.jsx)(v.R,{post:e,onPostUpdate:e=>{L(a=>a.map(a=>a.id===e.id?e:a))}},e.id))})]}),(0,r.jsx)("div",{className:"lg:col-span-1 space-y-6",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[(0,r.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Suggested for you"})}),(0,r.jsx)("div",{className:"p-4",children:w?(0,r.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,a)=>(0,r.jsxs)("div",{className:"animate-pulse flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24"}),(0,r.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-32 mt-2"})]})]},a))}):0===f.length?(0,r.jsx)("p",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No suggestions available"}):(0,r.jsx)("div",{className:"space-y-4",children:f.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(x(),{href:"/profile/".concat(e.id),className:"shrink-0",children:e.avatar?(0,r.jsx)("img",{src:e.avatar,alt:e.username,className:"w-10 h-10 rounded-full object-cover"}):(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,r.jsx)(m.A,{className:"w-5 h-5 text-primary"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)(x(),{href:"/profile/".concat(e.id),className:"font-medium text-gray-900 dark:text-white hover:text-primary dark:hover:text-primary-400 truncate block",children:e.username}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:e.first_name&&e.last_name?"".concat(e.first_name," ").concat(e.last_name):e.email})]}),(0,r.jsx)(g.W,{userId:e.id,username:e.username,isFollowing:I.includes(e.id),onFollowChange:D,className:"shrink-0"})]},e.id))})})]})})]})})]}),(0,r.jsx)(N,{isOpen:F,onClose:()=>C(!1),type:"followers",users:S,loading:R,currentUserFollowing:I,onFollowChange:()=>{B(),T(),X()}}),(0,r.jsx)(N,{isOpen:_,onClose:()=>A(!1),type:"following",users:M,loading:E,currentUserFollowing:I,onFollowChange:()=>{G(),T(),X()}})]}):(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[80vh]",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Profile not found"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Unable to load profile information"})]})})}},2857:(e,a,s)=>{"use strict";s.d(a,{P:()=>t});var r=s(95155);function t(e){let{postCount:a,followerCount:s,followingCount:t,onFollowersClick:l,onFollowingClick:i,isPublicProfile:o=!1}=e,n=e=>{let{label:a,value:s,onClick:t}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center ".concat(!o&&t?"cursor-pointer hover:opacity-75":""),onClick:!o&&t?t:void 0,children:[(0,r.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:s}),(0,r.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:a})]})};return(0,r.jsxs)("div",{className:"flex gap-8",children:[(0,r.jsx)(n,{label:"Posts",value:a}),(0,r.jsx)(n,{label:"Followers",value:s,onClick:o?void 0:l}),(0,r.jsx)(n,{label:"Following",value:t,onClick:o?void 0:i})]})}},11941:(e,a,s)=>{"use strict";s.d(a,{W:()=>m});var r=s(95155),t=s(12115),l=s(73312),i=s(42649),o=s(55037),n=s(22783);let d=(0,s(14057).A)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var c=s(24659),x=s(21567);function m(e){let{userId:a,username:s,isFollowing:m,onFollowChange:h,size:g="sm",variant:y="outline",className:u="",...p}=e,[v,f]=(0,t.useState)(!1),[j,w]=(0,t.useState)(m),N=async e=>{if(e.preventDefault(),e.stopPropagation(),!v){f(!0);try{let e=j?await i.i$.unfollowUser(a):await i.i$.followUser(a);if(!(null==e?void 0:e.success))throw Error((null==e?void 0:e.message)||"Failed to update follow status");w(!j),h(!j),o.oR.success(j?"Unfollowed ".concat(s):"Following ".concat(s))}catch(e){console.error("Follow action failed:",e),w(j),o.oR.error(j?"Failed to unfollow ".concat(s):"Failed to follow ".concat(s))}finally{f(!1)}}};return(0,r.jsx)(l.$,{type:"button",size:g,variant:y,onClick:N,disabled:v,className:(0,x.cn)("flex items-center gap-1.5",j?"bg-primary hover:bg-primary/90 text-primary-foreground":"ghost"===y?"hover:bg-muted":"bg-primary hover:bg-primary/90 text-primary-foreground",u),...p,children:v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.A,{className:"w-4 h-4 animate-spin"}),(0,r.jsx)("span",{children:j?"Unfollowing...":"Following..."})]}):j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Unfollow"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Follow"})]})})}},41240:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14057).A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},24659:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14057).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},12472:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14057).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},689:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(14057).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[4129,9219,2651,5037,5565,8173,4974,1217,624,8343,8222,8375,789,1762,8441,1517,7358],()=>a(6894)),_N_E=e.O()}]);