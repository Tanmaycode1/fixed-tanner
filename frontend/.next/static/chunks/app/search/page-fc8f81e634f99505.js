(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2959],{79419:(e,r,a)=>{Promise.resolve().then(a.bind(a,7446))},7446:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>k});var s=a(95155),t=a(12115),l=a(76046),i=a(62884),n=a(19148),c=a(62591),d=a(22783),o=a(12472),x=a(91560),m=a(42649),h=a(48173),g=a.n(h),u=a(73312),f=a(1762),p=a(55037),y=a(70719),v=a.n(y),b=a(77772),j=a(14145),N=a(76390);function k(){let e=(0,l.useSearchParams)(),[r,a]=(0,t.useState)(e.get("q")||""),[h,y]=(0,t.useState)("all"),[k,w]=(0,t.useState)({posts:[],users:[]}),[A,S]=(0,t.useState)(!1),[P,_]=(0,t.useState)(!0),[E,C]=(0,t.useState)([]),[R,T]=(0,t.useState)(null),z=async e=>{if(!e.trim()){w({posts:[],users:[]});return}try{var r,a;S(!0);let s=await N.M.search(e,h);s.success?w(null!==(r=s.data)&&void 0!==r?r:{posts:[],users:[]}):(w({posts:[],users:[]}),(null===(a=s.error)||void 0===a?void 0:a.includes("Network error"))||p.oR.error("Failed to perform search"))}catch(e){console.error("Search failed:",e),w({posts:[],users:[]})}finally{S(!1)}},U=(0,t.useCallback)(v()(z,300),[]);return(0,t.useEffect)(()=>(r&&U(r),()=>{U.cancel()}),[r,h,U]),(0,t.useEffect)(()=>{(async()=>{try{let r=await N.M.getTrendingSearches();if(r.success){var e;C(null!==(e=r.data)&&void 0!==e?e:[])}}catch(e){console.error("Error loading trending searches:",e)}})()},[]),(0,t.useEffect)(()=>{(async()=>{let e=await m.i$.getProfile();e.success&&T(e.data)})()},[]),(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,s.jsx)("div",{className:"lg:hidden",children:(0,s.jsx)(j.c,{})}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"hidden lg:block w-[270px] shrink-0",children:(0,s.jsx)("div",{className:"fixed top-0 left-0 w-[270px] h-screen border-r border-gray-200 dark:border-gray-800",children:(0,s.jsx)(b.B,{currentUser:R})})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("main",{className:"flex-1 min-h-screen border-r border-gray-200 dark:border-gray-800",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-6 lg:pt-8",children:[(0,s.jsxs)("div",{className:"relative mb-6",children:[(0,s.jsx)(c.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,s.jsx)(n.p,{type:"text",placeholder:"Search posts, users, or audio...",value:r,onChange:e=>a(e.target.value),className:"pl-10 h-12 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400"})]}),(0,s.jsxs)(i.tU,{defaultValue:h,onValueChange:y,children:[(0,s.jsxs)(i.j7,{className:"w-full mb-6",children:[(0,s.jsx)(i.Xi,{value:"all",className:"flex-1",children:"All"}),(0,s.jsx)(i.Xi,{value:"posts",className:"flex-1",children:"Posts"}),(0,s.jsx)(i.Xi,{value:"users",className:"flex-1",children:"Users"})]}),A?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(d.A,{className:"h-8 w-8 animate-spin text-primary"})}):""===r.trim()?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(c.A,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Start searching"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Enter a search term to find posts, users, or audio content"})]}):(0,s.jsxs)(i.av,{value:h,className:"space-y-4",children:[("users"===h||"all"===h)&&k.users.length>0&&(0,s.jsx)("div",{className:"space-y-4",children:k.users.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-white dark:bg-gray-800 rounded-lg",children:[(0,s.jsx)(g(),{href:"/profile/".concat(e.id),className:"shrink-0",children:e.avatar?(0,s.jsx)("img",{src:(0,m.m_)(e.avatar),alt:e.username,className:"h-12 w-12 rounded-full object-cover"}):(0,s.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:(0,s.jsx)(o.A,{className:"h-6 w-6 text-primary"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)(g(),{href:"/profile/".concat(e.id),className:"font-medium text-gray-900 dark:text-white hover:text-primary dark:hover:text-primary-400",children:e.username}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:e.bio})]}),(0,s.jsx)(g(),{href:"/profile/".concat(e.id),className:"shrink-0",children:(0,s.jsx)(u.$,{variant:"outline",size:"sm",className:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"View Profile"})})]},e.id))}),("posts"===h||"all"===h)&&k.posts.length>0&&(0,s.jsx)("div",{className:"space-y-4",children:k.posts.map(e=>(0,s.jsx)(f.R,{post:e},e.id))}),0===k.posts.length&&0===k.users.length&&(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsxs)("p",{className:"text-gray-500 dark:text-gray-400",children:['No results found for "',r,'"']})})]})]})]})}),(0,s.jsx)("div",{className:"hidden lg:block w-[384px] shrink-0",children:(0,s.jsx)("div",{className:"fixed top-0 h-screen w-[384px] border-l border-gray-200 dark:border-gray-800 p-6",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[(0,s.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"h-5 w-5 text-primary"}),(0,s.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Trending Searches"})]})}),(0,s.jsx)("div",{className:"p-4",children:P?(0,s.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,r)=>(0,s.jsx)("div",{className:"animate-pulse",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"})},r))}):(0,s.jsx)("div",{className:"space-y-2",children:E.map((e,r)=>(0,s.jsx)("button",{onClick:()=>a(e.query),className:"w-full text-left px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-md transition-colors",children:e.query},r))})})]})})})]})})]})]})}},14145:(e,r,a)=>{"use strict";a.d(r,{c:()=>g});var s=a(95155),t=a(48173),l=a.n(t),i=a(76046),n=a(99219),c=a(87493),d=a(62591),o=a(51567),x=a(46822),m=a(12472);let h=[{name:"Home",href:"/dashboard",icon:c.A,color:"text-blue-500"},{name:"Explore",href:"/search",icon:d.A,color:"text-green-500"},{name:"Create",href:"/create",icon:o.A,color:"text-purple-500"},{name:"Messages",href:"/messages",icon:x.A,color:"text-pink-500"},{name:"Profile",href:"/profile",icon:m.A,color:"text-indigo-500"}];function g(){let e=(0,i.usePathname)();return(0,s.jsxs)("div",{className:"fixed bottom-0 inset-x-0 z-50",children:[(0,s.jsx)("div",{className:"h-[1px] bg-gradient-to-r from-transparent via-gray-200 dark:via-gray-700 to-transparent"}),(0,s.jsx)("nav",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-t border-gray-200 dark:border-gray-800",children:(0,s.jsx)("div",{className:"max-w-screen-xl mx-auto",children:(0,s.jsx)("div",{className:"flex items-center justify-around px-4 py-2",children:h.map(r=>{let a=e===r.href;return(0,s.jsx)(l(),{href:r.href,className:"relative py-2 px-3",children:(0,s.jsxs)(n.P.div,{className:"flex flex-col items-center",whileTap:{scale:.9},children:[(0,s.jsxs)("div",{className:"\n                      relative p-1.5 rounded-xl\n                      ".concat(a?"text-primary-500 dark:text-primary-400":"text-gray-500 dark:text-gray-400","\n                    "),children:[(0,s.jsx)(r.icon,{className:"\n                        h-6 w-6 transition-colors\n                        ".concat(a?r.color:"current","\n                      ")}),a&&(0,s.jsx)(n.P.div,{className:"absolute inset-0 bg-primary-100 dark:bg-primary-900/20 rounded-xl -z-10",layoutId:"nav-pill",transition:{type:"spring",duration:.5}})]}),(0,s.jsx)("span",{className:"\n                      text-xs mt-1 transition-colors\n                      ".concat(a?"font-medium text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400","\n                    "),children:r.name})]})},r.name)})})})})]})}},77772:(e,r,a)=>{"use strict";a.d(r,{B:()=>N});var s=a(95155),t=a(76046),l=a(48173),i=a.n(l),n=a(12115),c=a(99219),d=a(87493),o=a(62591),x=a(51567),m=a(46822),h=a(67746),g=a(12472),u=a(53474),f=a(21354),p=a(73312),y=a(42649),v=a(55037),b=a(5565);let j=[{name:"Home",href:"/dashboard",icon:d.A,color:"text-blue-500 dark:text-blue-400"},{name:"Explore",href:"/search",icon:o.A,color:"text-green-500 dark:text-green-400"},{name:"Create",href:"/create",icon:x.A,color:"text-purple-500 dark:text-purple-400"},{name:"Messages",href:"/messages",icon:m.A,color:"text-pink-500 dark:text-pink-400"},{name:"Notifications",href:"/notifications",icon:h.A,color:"text-yellow-500 dark:text-yellow-400"},{name:"Profile",href:"/profile",icon:g.A,color:"text-gray-500 dark:text-gray-400"}];function N(e){let{currentUser:r}=e,a=(0,t.useRouter)(),l=(0,t.usePathname)(),[d,o]=(0,n.useState)(!1);(0,n.useEffect)(()=>{o(!0),x()},[]);let x=async()=>{try{(await y.i$.getProfile()).success}catch(e){console.error("Error loading profile:",e)}},m=async()=>{try{await y.ZQ.logout(),localStorage.clear(),v.oR.success("Logged out successfully"),a.push("/auth/login")}catch(e){console.error("Logout error:",e),localStorage.clear(),a.push("/auth/login")}};return d?(0,s.jsxs)("div",{className:"flex h-full flex-col bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800",children:[(0,s.jsx)("div",{className:"flex h-16 items-center px-6 border-b border-gray-200 dark:border-gray-800",children:(0,s.jsx)(i(),{href:"/dashboard",className:"flex items-center",children:(0,s.jsx)(c.P.span,{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-primary-400 bg-clip-text text-transparent",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:"Neuhu"})})}),(0,s.jsx)("nav",{className:"flex-1 space-y-1 p-4 overflow-y-auto",children:j.map((e,r)=>{let a=l===e.href;return(0,s.jsx)(c.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*r,duration:.2},children:(0,s.jsx)(i(),{href:e.href,children:(0,s.jsxs)("div",{className:"\n                  relative flex items-center px-4 py-2.5 rounded-xl transition-all\n                  ".concat(a?"text-primary-500 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800","\n                "),children:[(0,s.jsx)(e.icon,{className:"h-5 w-5 ".concat(e.color)}),(0,s.jsx)("span",{className:"ml-3 font-medium",children:e.name}),a&&(0,s.jsx)(c.P.div,{layoutId:"sidebar-active",className:"absolute left-0 w-1 inset-y-1 bg-primary-500 dark:bg-primary-400 rounded-full",transition:{type:"spring",stiffness:300,damping:30}})]})})},e.href)})}),(0,s.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-4",children:[r&&(0,s.jsx)(i(),{href:"/profile",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors group",children:[(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("div",{className:"h-10 w-10 rounded-full overflow-hidden ring-2 ring-offset-2 ring-transparent group-hover:ring-primary-500/20 dark:ring-offset-gray-900 transition-all",children:r.avatar_url?(0,s.jsx)("div",{className:"relative h-full w-full",children:(0,s.jsx)(b.default,{src:(0,y.m_)(r.avatar_url),alt:"".concat(r.first_name," ").concat(r.last_name),fill:!0,className:"object-cover rounded-full transition-transform duration-300 group-hover:scale-110",sizes:"40px"})}):(0,s.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:(0,s.jsx)(g.A,{className:"h-5 w-5 text-gray-400"})})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:"".concat(r.first_name," ").concat(r.last_name)}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["@",r.username]})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,s.jsx)(p.$,{variant:"ghost",size:"icon",className:"rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800",children:(0,s.jsx)(i(),{href:"/profile/edit",children:(0,s.jsx)(u.A,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})}),(0,s.jsx)(p.$,{variant:"ghost",size:"icon",onClick:m,className:"rounded-xl text-red-500 hover:bg-red-50 hover:text-red-600 dark:text-red-400 dark:hover:bg-red-900/20",children:(0,s.jsx)(f.A,{className:"h-5 w-5"})})]})]})})]}):null}},19148:(e,r,a)=>{"use strict";a.d(r,{p:()=>i});var s=a(95155),t=a(12115),l=a(21567);let i=t.forwardRef((e,r)=>{let{className:a,type:t,...i}=e;return(0,s.jsx)("input",{type:t,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...i})});i.displayName="Input"},62884:(e,r,a)=>{"use strict";a.d(r,{Xi:()=>d,av:()=>o,j7:()=>c,tU:()=>n});var s=a(95155),t=a(12115),l=a(58629),i=a(21567);let n=l.bL,c=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)(l.B8,{ref:r,className:(0,i.cn)("flex w-full border-b border-gray-200 dark:border-gray-700",a),...t})});c.displayName="TabsList";let d=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)(l.l9,{ref:r,className:(0,i.cn)("px-4 py-2 -mb-px text-sm font-medium text-gray-500 border-b-2 border-transparent hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","data-[state=active]:text-primary-600 data-[state=active]:border-primary-600 dark:data-[state=active]:text-primary-400 dark:data-[state=active]:border-primary-400",a),...t})});d.displayName="TabsTrigger";let o=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)(l.UC,{ref:r,className:(0,i.cn)("mt-4",a),...t})});o.displayName="TabsContent"}},e=>{var r=r=>e(e.s=r);e.O(0,[4129,9219,2651,5037,5565,8173,4974,1217,624,8343,8222,8375,7245,789,1762,8441,1517,7358],()=>r(79419)),_N_E=e.O()}]);